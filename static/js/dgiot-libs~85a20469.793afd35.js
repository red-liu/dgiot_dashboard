/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot_dashboard 
 *  time: Wed Jul 28 2021 10:44:56 GMT+0000 (Coordinated Universal Time)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dgiot-libs~85a20469"],{"0d83":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return _}));class i{constructor(){this.type=0}}class o{constructor(){this.type=1}}class r{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class s{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class a{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class l{constructor(){this.type=5}}class u{constructor(e){this.type=6,this.isFocused=e}}class d{constructor(){this.type=7}}class c{constructor(){this.type=8}}class h{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class g{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class f{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class m{constructor(e,t,n,i,o,r){this.type=12,this.source=e,this.range=t,this.selections=n,this.verticalType=i,this.revealHorizontal=o,this.scrollType=r}}class p{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class w{constructor(){this.type=14}}class b{constructor(e){this.type=15,this.ranges=e}}class v{constructor(){this.type=16}}class _{constructor(){this.type=17}}},"130b":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return h}));var i=n("308f"),o=n("a666");class r extends o["a"]{constructor(){super(),this._onEvent=this._register(new i["a"]),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new s),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{const t=this.beginEmitViewEvents();t.emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class s{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class a{constructor(e,t,n,i){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new a(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class l{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new l(this.oldHasFocus,e.hasFocus)}}class u{constructor(e,t,n,i,o,r,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return 2!==e.kind?this:new u(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class d{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class c{constructor(e,t,n,i,o,r,s){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=i,this.source=o,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length,i=t.length;if(n!==i)return!1;for(let o=0;o<n;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return c._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new c(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class h{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}},"2de5":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var i=n("099d");class o{constructor(e,t){this.index=e,this.remainder=t}}class r{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Object(i["a"])(e);const n=this.values,o=this.prefixSum,r=t.length;return 0!==r&&(this.values=new Uint32Array(n.length+r),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Object(i["a"])(e),t=Object(i["a"])(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Object(i["a"])(e),t=Object(i["a"])(t);const n=this.values,o=this.prefixSum;if(e>=n.length)return!1;let r=n.length-e;return t>=r&&(t=r),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(e){return e<0?0:(e=Object(i["a"])(e),this._getAccumulatedValue(e))}_getAccumulatedValue(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalValue();let t=0,n=this.values.length-1,i=0,r=0,s=0;while(t<=n)if(i=t+(n-t)/2|0,r=this.prefixSum[i],s=r-this.values[i],e<s)n=i-1;else{if(!(e>=r))break;t=i+1}return new o(i,e-s)}}},"32f2":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));class i{constructor(e,t,n){this.from=0|e,this.to=0|t,this.colorId=0|n}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class o{constructor(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class r{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(o.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),o=Math.floor(this._outerHeight),r=n/o,s=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,u=this._zones.length;l<u;l++){const o=this._zones[l];if(!e){const e=o.getColorZones();if(e){a.push(e);continue}}const u=Math.floor(r*this._getVerticalOffsetForLine(o.startLineNumber)),d=Math.floor(r*(this._getVerticalOffsetForLine(o.endLineNumber)+t));let c=Math.floor((u+d)/2),h=d-c;h<s&&(h=s),c-h<0&&(c=h),c+h>n&&(c=n-h);const g=o.color;let f=this._color2Id[g];f||(f=++this._lastAssignedId,this._color2Id[g]=f,this._id2Color[f]=g);const m=new i(c-h,c+h,f);o.setColorZone(m),a.push(m)}return this._colorZonesInvalid=!1,a.sort(i.compare),a}}},5380:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class i{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class o{constructor(e,t,n){this.configuration=e,this.theme=new i(t),this.model=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}},"675a":function(e,t,n){},"7e0b":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("3742"),o=n("3170"),r=n("a8d0");class s extends o["a"]{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let a=[],l=[];class u{constructor(e,t){this.classifier=new s(e,t)}static create(e){return new u(e.get(117),e.get(116))}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;let o=[],r=[];return{addRequest:(e,t)=>{o.push(e),r.push(t)},finalize:()=>{const s=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let u=[];for(let e=0,a=o.length;e<a;e++){const a=r[e];u[e]=a?d(this.classifier,a,o[e],t,n,s,i):c(this.classifier,o[e],t,n,s,i)}return a.length=0,l.length=0,u}}}}function d(e,t,n,o,r,s,u){if(-1===r)return null;const d=n.length;if(d<=1)return null;const c=t.breakOffsets,g=t.breakOffsetsVisibleColumn,p=m(n,o,r,s,u),w=r-p;let b=a,v=l,_=0,C=0,k=0,L=r;const y=c.length;let S=0;if(S>=0){let e=Math.abs(g[S]-L);while(S+1<y){const t=Math.abs(g[S+1]-L);if(t>=e)break;e=t,S++}}while(S<y){let t=S<0?0:c[S],r=S<0?0:g[S];C>t&&(t=C,r=k);let a=0,l=0,u=0,m=0;if(r<=L){let p=r,k=0===t?0:n.charCodeAt(t-1),y=0===t?0:e.get(k),S=!0;for(let r=t;r<d;r++){const t=r,d=n.charCodeAt(r);let c,g;if(i["E"](d)?(r++,c=0,g=2):(c=e.get(d),g=h(d,p,o,s)),t>C&&f(k,y,d,c)&&(a=t,l=p),p+=g,p>L){t>C?(u=t,m=p-g):(u=r+1,m=p),p-l>w&&(a=0),S=!1;break}k=d,y=c}if(S){_>0&&(b[_]=c[c.length-1],v[_]=g[c.length-1],_++);break}}if(0===a){let d=r,c=n.charCodeAt(t),g=e.get(c),p=!1;for(let o=t-1;o>=C;o--){const t=o+1,r=n.charCodeAt(o);if(9===r){p=!0;break}let h,b;if(i["F"](r)?(o--,h=0,b=2):(h=e.get(r),b=i["D"](r)?s:1),d<=L){if(0===u&&(u=t,m=d),d<=L-w)break;if(f(r,h,c,g)){a=t,l=d;break}}d-=b,c=r,g=h}if(0!==a){const e=w-(m-l);if(e<=o){const t=n.charCodeAt(u);let r;r=i["E"](t)?2:h(t,m,o,s),e-r<0&&(a=0)}}if(p){S--;continue}}if(0===a&&(a=u,l=m),a<=C){const e=n.charCodeAt(C);i["E"](e)?(a=C+2,l=k+2):(a=C+1,l=k+h(e,k,o,s))}C=a,b[_]=a,k=l,v[_]=l,_++,L=l+w;while(S<0||S<y&&g[S]<l)S++;let p=Math.abs(g[S]-L);while(S+1<y){const e=Math.abs(g[S+1]-L);if(e>=p)break;p=e,S++}}return 0===_?null:(b.length=_,v.length=_,a=t.breakOffsets,l=t.breakOffsetsVisibleColumn,t.breakOffsets=b,t.breakOffsetsVisibleColumn=v,t.wrappedTextIndentLength=p,t)}function c(e,t,n,o,s,a){if(-1===o)return null;const l=t.length;if(l<=1)return null;const u=m(t,n,o,s,a),d=o-u;let c=[],g=[],p=0,w=0,b=0,v=o,_=t.charCodeAt(0),C=e.get(_),k=h(_,0,n,s),L=1;i["E"](_)&&(k+=1,_=t.charCodeAt(1),C=e.get(_),L++);for(let r=L;r<l;r++){const o=r,a=t.charCodeAt(r);let l,u;i["E"](a)?(r++,l=0,u=2):(l=e.get(a),u=h(a,k,n,s)),f(_,C,a,l)&&(w=o,b=k),k+=u,k>v&&((0===w||k-b>d)&&(w=o,b=k-u),c[p]=w,g[p]=b,p++,v=b+d,w=0),_=a,C=l}return 0===p?null:(c[p]=l,g[p]=k,new r["b"](c,g,u))}function h(e,t,n,o){return 9===e?n-t%n:i["D"](e)||e<32?o:1}function g(e,t){return t-e%t}function f(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function m(e,t,n,o,r){let s=0;if(0!==r){const a=i["u"](e);if(-1!==a){for(let n=0;n<a;n++){const i=9===e.charCodeAt(n)?g(s,t):1;s+=i}const i=3===r?2:2===r?1:0;for(let e=0;e<i;e++){const e=g(s,t);s+=e}s+o>n&&(s=0)}}return s}},"918c":function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return w})),n.d(t,"h",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return L})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return V})),n.d(t,"n",(function(){return M})),n.d(t,"p",(function(){return x})),n.d(t,"o",(function(){return D}));var i=n("dff7"),o=n("ceb8"),r=n("303e"),s=n("b7d0");const a=Object(r["Kb"])("editor.lineHighlightBackground",{dark:null,light:null,hc:null},i["a"]("lineHighlight","Background color for the highlight of line at the cursor position.")),l=Object(r["Kb"])("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},i["a"]("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),u=Object(r["Kb"])("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},i["a"]("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),d=Object(r["Kb"])("editor.rangeHighlightBorder",{dark:null,light:null,hc:r["b"]},i["a"]("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),c=Object(r["Kb"])("editor.symbolHighlightBackground",{dark:r["u"],light:r["u"],hc:null},i["a"]("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),h=Object(r["Kb"])("editor.symbolHighlightBorder",{dark:null,light:null,hc:r["b"]},i["a"]("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=Object(r["Kb"])("editorCursor.foreground",{dark:"#AEAFAD",light:o["a"].black,hc:o["a"].white},i["a"]("caret","Color of the editor cursor.")),f=Object(r["Kb"])("editorCursor.background",null,i["a"]("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),m=Object(r["Kb"])("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},i["a"]("editorWhitespaces","Color of whitespace characters in the editor.")),p=Object(r["Kb"])("editorIndentGuide.background",{dark:m,light:m,hc:m},i["a"]("editorIndentGuides","Color of the editor indentation guides.")),w=Object(r["Kb"])("editorIndentGuide.activeBackground",{dark:m,light:m,hc:m},i["a"]("editorActiveIndentGuide","Color of the active editor indentation guides.")),b=Object(r["Kb"])("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:o["a"].white},i["a"]("editorLineNumbers","Color of editor line numbers.")),v=Object(r["Kb"])("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:r["b"]},i["a"]("editorActiveLineNumber","Color of editor active line number"),!1,i["a"]("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),_=Object(r["Kb"])("editorLineNumber.activeForeground",{dark:v,light:v,hc:v},i["a"]("editorActiveLineNumber","Color of editor active line number")),C=Object(r["Kb"])("editorRuler.foreground",{dark:"#5A5A5A",light:o["a"].lightgrey,hc:o["a"].white},i["a"]("editorRuler","Color of the editor rulers.")),k=(Object(r["Kb"])("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},i["a"]("editorCodeLensForeground","Foreground color of editor CodeLens")),Object(r["Kb"])("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},i["a"]("editorBracketMatchBackground","Background color behind matching brackets")),Object(r["Kb"])("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:r["h"]},i["a"]("editorBracketMatchBorder","Color for matching brackets boxes")),Object(r["Kb"])("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},i["a"]("editorOverviewRulerBorder","Color of the overview ruler border."))),L=Object(r["Kb"])("editorOverviewRuler.background",null,i["a"]("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),y=Object(r["Kb"])("editorGutter.background",{dark:r["q"],light:r["q"],hc:r["q"]},i["a"]("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),S=Object(r["Kb"])("editorUnnecessaryCode.border",{dark:null,light:null,hc:o["a"].fromHex("#fff").transparent(.8)},i["a"]("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),V=Object(r["Kb"])("editorUnnecessaryCode.opacity",{dark:o["a"].fromHex("#000a"),light:o["a"].fromHex("#0007"),hc:null},i["a"]("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),E=(Object(r["Kb"])("editorGhostText.border",{dark:null,light:null,hc:o["a"].fromHex("#fff").transparent(.8)},i["a"]("editorGhostTextBorder","Border color of ghost text in the editor.")),Object(r["Kb"])("editorGhostText.foreground",{dark:o["a"].fromHex("#ffffff56"),light:o["a"].fromHex("#0007"),hc:null},i["a"]("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),new o["a"](new o["b"](0,122,204,.6))),M=(Object(r["Kb"])("editorOverviewRuler.rangeHighlightForeground",{dark:E,light:E,hc:E},i["a"]("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Object(r["Kb"])("editorOverviewRuler.errorForeground",{dark:new o["a"](new o["b"](255,18,18,.7)),light:new o["a"](new o["b"](255,18,18,.7)),hc:new o["a"](new o["b"](255,50,50,1))},i["a"]("overviewRuleError","Overview ruler marker color for errors."))),x=Object(r["Kb"])("editorOverviewRuler.warningForeground",{dark:r["H"],light:r["H"],hc:r["G"]},i["a"]("overviewRuleWarning","Overview ruler marker color for warnings.")),D=Object(r["Kb"])("editorOverviewRuler.infoForeground",{dark:r["B"],light:r["B"],hc:r["A"]},i["a"]("overviewRuleInfo","Overview ruler marker color for infos."));Object(s["f"])((e,t)=>{const n=e.getColor(r["q"]);n&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${n}; }`);const i=e.getColor(r["v"]);i&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const o=e.getColor(y);o&&t.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const s=e.getColor(u);s&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const a=e.getColor(d);a&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${a}; }`);const l=e.getColor(c);l&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const g=e.getColor(h);g&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${g}; }`);const f=e.getColor(m);f&&(t.addRule(`.monaco-editor .mtkw { color: ${f} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${f} !important; }`))})},"91df":function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n("ceb8"),o=n("a666"),r=n("3742"),s=n("fd49"),a=n("7061"),l=n("6a89"),u=n("b707"),d=n("4d05"),c=n("ff6c"),h=n("0d83"),g=n("ad7d"),f=n("e8e3"),m=n("b57f"),p=n("2de5"),w=n("a8d0");class b{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)}convertModelRangeToViewRange(e){return this._lines.convertModelRangeToViewRange(e)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class v{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],n=e>0?this._modelToView[e-1]:0;this._modelToView[e]=n+t;for(let i=0;i<t;i++)this._viewToModel[n+i]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=f["a"](this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],n=t>0?this._modelToView[t-1]:0;return new p["b"](t,e-n)}}class _{constructor(e,t,n,i,o,r,s,a){this.model=e,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=t,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=i,this.tabSize=o,this.wrappingStrategy=r,this.wrappingColumn=s,this.wrappingIndent=a,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new b(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);let n=this.model.getLinesContent();const i=n.length,o=this.createLineBreaksComputer();for(let l=0;l<i;l++)o.addRequest(n[l],t?t[l]:null);const r=o.finalize();let s=[],a=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts),u=1,d=0,c=-1,h=c+1<a.length?d+1:i+2;for(let l=0;l<i;l++){let e=l+1;e===h&&(c++,u=a[c].startLineNumber,d=a[c].endLineNumber,h=c+1<a.length?d+1:i+2);let t=e>=u&&e<=d,n=E(r[l],!t);s[l]=n.getViewLineCount(),this.lines[l]=n}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new v(s)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];let t=e.map(e=>this.model.validateRange(e)).sort(l["a"].compareRangesUsingStarts),n=[],i=t[0].startLineNumber,o=t[0].endLineNumber;for(let r=1,s=t.length;r<s;r++){let e=t[r];e.startLineNumber>o+1?(n.push(new l["a"](i,1,o,1)),i=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return n.push(new l["a"](i,1,o,1)),n}setHiddenAreas(e){let t=this._reduceRanges(e),n=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(l["a"].compareRangesUsingStarts);if(t.length===n.length){let e=!1;for(let i=0;i<t.length;i++)if(!t[i].equalsRange(n[i])){e=!0;break}if(!e)return!1}let i=[];for(const l of t)i.push({range:l,options:m["a"].EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,i);let o=t,r=1,s=0,a=-1,u=a+1<o.length?s+1:this.lines.length+2,d=!1;for(let l=0;l<this.lines.length;l++){let e=l+1;e===u&&(a++,r=o[a].startLineNumber,s=o[a].endLineNumber,u=a+1<o.length?s+1:this.lines.length+2);let t=!1;if(e>=r&&e<=s?this.lines[l].isVisible()&&(this.lines[l]=this.lines[l].setVisible(!1),t=!0):(d=!0,this.lines[l].isVisible()||(this.lines[l]=this.lines[l].setVisible(!0),t=!0)),t){let e=this.lines[l].getViewLineCount();this.prefixSumComputer.changeValue(l,e)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,i){const o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,s=this.wrappingColumn===n,a=this.wrappingIndent===i;if(o&&r&&s&&a)return!1;const l=o&&r&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;let u=null;if(l){u=[];for(let e=0,t=this.lines.length;e<t;e++)u[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,u),!0}createLineBreaksComputer(){const e="advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return e.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(e<=this._validModelVersionId)return null;let i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new h["k"](i,o)}onModelLinesInserted(e,t,n,i){if(e<=this._validModelVersionId)return null;const o=t>2&&!this.lines[t-2].isVisible();let r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=0,a=[],l=[];for(let u=0,d=i.length;u<d;u++){let e=E(i[u],!o);a.push(e);let t=e.getViewLineCount();s+=t,l[u]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new h["l"](r,r+s-1)}onModelLineChanged(e,t,n){if(e<=this._validModelVersionId)return[!1,null,null,null];let i=t-1,o=this.lines[i].getViewLineCount(),r=this.lines[i].isVisible(),s=E(n,r);this.lines[i]=s;let a=this.lines[i].getViewLineCount(),l=!1,u=0,d=-1,c=0,g=-1,f=0,m=-1;o>a?(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=u+a-1,f=d+1,m=f+(o-a)-1,l=!0):o<a?(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=u+o-1,c=d+1,g=c+(a-o)-1,l=!0):(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=u+a-1),this.prefixSumComputer.changeValue(i,a);const p=u<=d?new h["j"](u,d):null,w=c<=g?new h["l"](c,g):null,b=f<=m?new h["k"](f,m):null;return[l,p,w,b]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.getActiveIndentGuide(i.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],r=[],s=[];const l=n.lineNumber-1,u=i.lineNumber-1;let d=null;for(let f=l;f<=u;f++){const e=this.lines[f];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,f===l?n.column:1),i=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(f+1)),o=i-t+1,u=0;o>1&&1===e.getViewLineMinColumn(this.model,f+1,i)&&(u=0===t?1:2),r.push(o),s.push(u),null===d&&(d=new a["a"](f+1,0))}else null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,f)),d=null)}null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,i.lineNumber)),d=null);const c=t-e+1;let h=new Array(c),g=0;for(let a=0,f=o.length;a<f;a++){let e,t=o[a],n=Math.min(c-g,r[a]),i=s[a];e=2===i?0:1===i?1:n;for(let o=0;o<n;o++)o===e&&(t=0),h[g++]=t}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.prefixSumComputer.getIndexOf(e-1),o=e,r=i.index,s=i.remainder,a=[];for(let l=r,u=this.model.getLineCount();l<u;l++){let i=this.lines[l];if(!i.isVisible())continue;let u=l===r?s:0,d=i.getViewLineCount()-u,c=!1;o+d>t&&(c=!0,d=t-o+1);let h=u+d;if(i.getViewLinesData(this.model,l+1,u,h,o-e,n,a),o+=d,c)break}return a}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),o=i.index,r=i.remainder,s=this.lines[o],l=s.getViewLineMinColumn(this.model,o+1,r),u=s.getViewLineMaxColumn(this.model,o+1,r);t<l&&(t=l),t>u&&(t=u);let d=s.getModelColumnOfViewPosition(r,t),c=this.model.validatePosition(new a["a"](o+1,d));return c.equals(n)?new a["a"](e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new l["a"](n.lineNumber,n.column,i.lineNumber,i.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,o=n.remainder,r=this.lines[i].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new a["a"](i+1,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new l["a"](t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t){const n=this.model.validatePosition(new a["a"](e,t)),i=n.lineNumber,o=n.column;let r=i-1,s=!1;while(r>0&&!this.lines[r].isVisible())r--,s=!0;if(0===r&&!this.lines[r].isVisible())return new a["a"](1,1);const l=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));let u;return u=s?this.lines[r].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(r+1)):this.lines[i-1].getViewPositionOfModelPosition(l,o),u}convertModelRangeToViewRange(e){let t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&t.lineNumber!==n.lineNumber&&n.column===this.getViewLineMinColumn(n.lineNumber)?new l["a"](t.lineNumber,t.column,n.lineNumber-1,this.getViewLineMaxColumn(n.lineNumber-1)):new l["a"](t.lineNumber,t.column,n.lineNumber,n.column)}_getViewLineNumberForModelPosition(e,t){let n=e-1;if(this.lines[n].isVisible()){const e=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(e,t)}while(n>0&&!this.lines[n].isVisible())n--;if(0===n&&!this.lines[n].isVisible())return 1;const i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,this.model.getLineMaxColumn(n+1))}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),o=new D;for(const r of i){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),s=this._getViewLineNumberForModelPosition(r.range.startLineNumber,r.range.startColumn),a=this._getViewLineNumberForModelPosition(r.range.endLineNumber,r.range.endColumn);o.accept(i,s,a,t)}return o.result}getDecorationsInRange(e,t,n){const i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new l["a"](i.lineNumber,1,o.lineNumber,o.column),t,n);let r=[];const s=i.lineNumber-1,u=o.lineNumber-1;let d=null;for(let f=s;f<=u;f++){const e=this.lines[f];if(e.isVisible())null===d&&(d=new a["a"](f+1,f===s?i.column:1));else if(null!==d){const e=this.model.getLineMaxColumn(f);r=r.concat(this.model.getDecorationsInRange(new l["a"](d.lineNumber,d.column,f,e),t,n)),d=null}}null!==d&&(r=r.concat(this.model.getDecorationsInRange(new l["a"](d.lineNumber,d.column,o.lineNumber,o.column),t,n)),d=null),r.sort((e,t)=>{const n=l["a"].compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n});let c=[],h=0,g=null;for(const a of r){const e=a.id;g!==e&&(g=e,c[h++]=a)}return c}normalizePosition(e,t){const n=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(n-1),o=i.index,r=i.remainder;return this.lines[o].normalizePosition(this.model,o+1,r,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),n=this.prefixSumComputer.getIndexOf(t-1),i=n.index,o=n.remainder;return 0===o?this.model.getLineIndentColumn(i+1):0}}class C{constructor(){}isVisible(){return!0}setVisible(e){return e?this:k.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){let i=e.getLineTokens(t),o=i.getLineContent();return new w["d"](o,!1,1,o.length+1,0,i.inflate())}getViewLinesData(e,t,n,i,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new a["a"](e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,n,i,o){return i}}C.INSTANCE=new C;class k{constructor(){}isVisible(){return!1}setVisible(e){return e?C.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,i,o,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,n,i,o){throw new Error("Not supported")}}k.INSTANCE=new k;class L{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return w["b"].getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,0)}getInputEndOffsetOfOutputLineIndex(e,t,n){return n+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:w["b"].getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,n+1,0)}getViewLineContent(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return n>0&&(r=S(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=o-i;return n>0&&(r=this._lineBreakData.wrappedTextIndentLength+r),r}getViewLineMinColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(n)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,n)+1}getViewLineData(e,t,n){if(!this._isVisible)throw new Error("Not supported");let i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});n>0&&(r=S(this._lineBreakData.wrappedTextIndentLength)+r);let s=n>0?this._lineBreakData.wrappedTextIndentLength+1:1,a=r.length+1,l=n+1<this.getViewLineCount(),u=0;n>0&&(u=this._lineBreakData.wrappedTextIndentLength);let d=e.getLineTokens(t);const c=0===n?0:this._lineBreakData.breakOffsetsVisibleColumn[n-1];return new w["d"](r,l,s,a,c,d.sliceAndInflate(i,o,u))}getViewLinesData(e,t,n,i,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(let a=n;a<i;a++){let i=o+a-n;r[i]?s[i]=this.getViewLineData(e,t,a):s[i]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=t-1;return e>0&&(n<this._lineBreakData.wrappedTextIndentLength?n=0:n-=this._lineBreakData.wrappedTextIndentLength),w["b"].getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,n)+1}getViewPositionOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=w["b"].getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1),i=n.outputLineIndex,o=n.outputOffset+1;return i>0&&(o+=this._lineBreakData.wrappedTextIndentLength),new a["a"](e+i,o)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");const n=w["b"].getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1);return e+n.outputLineIndex}normalizePosition(e,t,n,i,o){if(0===o){if(n>0&&i.column===this._getViewLineMinColumn(n))return new a["a"](i.lineNumber-1,this.getViewLineMaxColumn(e,t,n-1))}else if(1===o){const o=this.getViewLineCount()-1;if(n<o&&i.column===this.getViewLineMaxColumn(e,t,n))return new a["a"](i.lineNumber+1,this._getViewLineMinColumn(n+1))}return i}}let y=[""];function S(e){if(e>=y.length)for(let t=1;t<=e;t++)y[t]=V(t);return y[e]}function V(e){return new Array(e+1).join(" ")}function E(e,t){return null===e?t?C.INSTANCE:k.INSTANCE:new L(e,t)}class M{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class x{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new M(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,i){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new h["k"](t,n)}onModelLinesInserted(e,t,n,i){return new h["l"](t,n)}onModelLineChanged(e,t,n){return[!1,new h["j"](t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const n=t-e+1;let i=new Array(n);for(let o=0;o<n;o++)i[o]=0;return i}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),n=t.getLineContent();return new w["d"](n,!1,1,n.length+1,0,t.inflate())}getViewLinesData(e,t,n){const i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);let o=[];for(let r=e;r<=t;r++){let t=r-e;n[t]||(o[t]=null),o[t]=this.getViewLineData(r)}return o}getAllOverviewRulerDecorations(e,t,n){const i=this.model.getOverviewRulerDecorations(e,t),o=new D;for(const r of i){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const i=e.getColor(n),s=r.range.startLineNumber,a=r.range.endLineNumber;o.accept(i,s,a,t)}return o.result}getDecorationsInRange(e,t,n){return this.model.getDecorationsInRange(e,t,n)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}}class D{constructor(){this.result=Object.create(null)}accept(e,t,n,i){let o=this.result[e];if(o){const e=o[o.length-3],r=o[o.length-1];if(e===i&&r+1>=t)return void(n>r&&(o[o.length-1]=n));o.push(i,t,n)}else this.result[e]=[i,t,n]}}class T{constructor(e,t,n,i,o){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const i=e.range,o=e.options;let r;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.startLineNumber,1)),t=this._coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));r=new l["a"](e.lineNumber,e.column,t.lineNumber,t.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(i);n=new w["f"](r,o),this._decorationsCache[t]=n}return n}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Object(s["m"])(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber;let o=[],r=0,a=[];for(let s=n;s<=i;s++)a[s-n]=[];for(let s=0,u=t.length;s<u;s++){let e=t[s],u=e.options,d=this._getOrCreateViewModelDecoration(e),c=d.range;if(o[r++]=d,u.inlineClassName){let e=new w["a"](c,u.inlineClassName,u.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(n,c.startLineNumber),o=Math.min(i,c.endLineNumber);for(let i=t;i<=o;i++)a[i-n].push(e)}if(u.beforeContentClassName&&n<=c.startLineNumber&&c.startLineNumber<=i){let e=new w["a"](new l["a"](c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn),u.beforeContentClassName,1);a[c.startLineNumber-n].push(e)}if(u.afterContentClassName&&n<=c.endLineNumber&&c.endLineNumber<=i){let e=new w["a"](new l["a"](c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn),u.afterContentClassName,2);a[c.endLineNumber-n].push(e)}}return{decorations:o,inlineDecorations:a}}}var I=n("5fe7"),O=n("30db"),N=n("04a5"),R=n("2e5d"),P=n("130b");const A=!0;class F extends o["a"]{constructor(e,t,n,i,o,r){if(super(),this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new P["f"],this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new R["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new I["e"](()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new I["e"](()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,A&&this.model.isTooLargeForTokenization())this._lines=new x(this.model);else{const e=this._configuration.options,t=e.get(40),n=e.get(122),r=e.get(129),s=e.get(121);this._lines=new _(this.model,i,o,t,this.model.getOptions().tabSize,n,r.wrappingColumn,s)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new N["a"](n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new g["a"](this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new h["n"](e)),this._eventDispatcher.emitOutgoingEvent(new P["e"](e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new T(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(c["a"].getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new h["q"])})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.startLineNumber,1)),n=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,n.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new h["g"](e)),this._eventDispatcher.emitOutgoingEvent(new P["c"](!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new h["b"])}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new h["a"])}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new h["o"])}_onConfigurationChanged(e,t){let n=null;if(-1!==this._viewportStartLine){let e=new a["a"](this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let i=!1;const o=this._configuration.options,r=o.get(40),s=o.get(122),l=o.get(129),u=o.get(121);if(this._lines.setWrappingSettings(r,s,l.wrappingColumn,u)&&(e.emitViewEvent(new h["f"]),e.emitViewEvent(new h["i"]),e.emitViewEvent(new h["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(i=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(78)&&(this._decorations.reset(),e.emitViewEvent(new h["e"](null))),e.emitViewEvent(new h["c"](t)),this.viewLayout.onConfigurationChanged(t),i&&n){const e=this.coordinatesConverter.convertModelPositionToViewPosition(n),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}R["b"].shouldRecreate(t)&&(this.cursorConfig=new R["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,i=!1;const o=e.changes,r=e.versionId,s=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(const t of e.detail)s.addRequest(t,null);break;case 2:s.addRequest(e.detail,null);break}const a=s.finalize();let l=0;for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new h["f"]),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break;case 3:{const i=this._lines.onModelLinesDeleted(r,e.fromLineNumber,e.toLineNumber);null!==i&&(t.emitViewEvent(i),this.viewLayout.onLinesDeleted(i.fromLineNumber,i.toLineNumber)),n=!0;break}case 4:{const i=a.slice(l,l+e.detail.length);l+=e.detail.length;const o=this._lines.onModelLinesInserted(r,e.fromLineNumber,e.toLineNumber,i);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),n=!0;break}case 2:{const n=a[l];l++;const[o,s,u,d]=this._lines.onModelLineChanged(r,e.lineNumber,n);i=o,s&&t.emitViewEvent(s),u&&(t.emitViewEvent(u),this.viewLayout.onLinesInserted(u.fromLineNumber,u.toLineNumber)),d&&(t.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber));break}case 5:break}this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!n&&i&&(t.emitViewEvent(new h["i"]),t.emitViewEvent(new h["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let n=0,i=e.ranges.length;n<i;n++){const i=e.ranges[n],o=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.fromLineNumber,1)).lineNumber,r=this.coordinatesConverter.convertModelPositionToViewPosition(new a["a"](i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[n]={fromLineNumber:o,toLineNumber:r}}this._eventDispatcher.emitSingleViewEvent(new h["p"](t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new h["h"]),this.cursorConfig=new R["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new R["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new h["f"]),e.emitViewEvent(new h["i"]),e.emitViewEvent(new h["e"](null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new R["b"](this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new h["e"](e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();let n=this._lines.setHiddenAreas(e);n&&(t.emitViewEvent(new h["f"]),t.emitViewEvent(new h["i"]),t.emitViewEvent(new h["e"](null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(128),t=this._configuration.options.get(56),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),o=Math.max(1,i.completelyVisibleStartLineNumber-n),r=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new l["a"](o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];let i=[],o=0,r=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,u=t.endColumn;for(let d=0,c=n.length;d<c;d++){const e=n[d].startLineNumber,t=n[d].endLineNumber;t<r||(e>a||(r<e&&(i[o++]=new l["a"](r,s,e-1,this.model.getLineMaxColumn(e-1))),r=t+1,s=1))}return(r<a||r===a&&s<u)&&(i[o++]=new l["a"](r,s,a,u)),i}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new l["a"](t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new l["a"](n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](n,this.getLineMinColumn(n))),o=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:o}}reduceRestoreState(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStartLine=e;let i=this.coordinatesConverter.convertViewPositionToModelPosition(new a["a"](e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new l["a"](i.lineNumber,i.column,i.lineNumber,i.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=r-o}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=r["u"](this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=r["I"](this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getViewLineRenderingData(e,t){let n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations,a=s[t-e.startLineNumber];return new w["e"](r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,n,i,r.tokens,a,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){let i=this._lines.getViewLinesData(e,t,n);return new w["c"](this.getTabSize(),i)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,Object(s["m"])(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,n){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);const o=this.model.getOffsetAt(i),r=o+t;return this.model.getPositionAt(r)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,n){const i=n?"\r\n":this.model.getEOL();e=e.slice(0),e.sort(l["a"].compareRangesUsingStarts);let o=!1,r=!1;for(const a of e)a.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const n=e.map(e=>e.startLineNumber);let o="";for(let e=0;e<n.length;e++)e>0&&n[e-1]===n[e]||(o+=this.model.getLineContent(n[e])+i);return o}if(o&&t){let t=[],i=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==i&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,n?2:0)),i=e}return 1===t.length?t[0]:t}let s=[];for(const a of e)a.isEmpty()||s.push(this.model.getValueInRange(a,n?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const n=this.model.getLanguageIdentifier();if(1===n.id)return null;if(1!==e.length)return null;let i=e[0];if(i.isEmpty()){if(!t)return null;const e=i.startLineNumber;i=new l["a"](e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(40),r=this._getColorMap(),a=/[:;\\\/<>]/.test(o.fontFamily),u=a||o.fontFamily===s["c"].fontFamily;let d;if(u)d=s["c"].fontFamily;else{d=o.fontFamily,d=d.replace(/"/g,"'");const e=/[,']/.test(d);if(!e){const e=/[+ ]/.test(d);e&&(d=`'${d}'`)}d=`${d}, ${s["c"].fontFamily}`}return{mode:n.language,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${d};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(i,r)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=this.getTabSize();let a="";for(let l=n;l<=o;l++){const e=this.model.getLineTokens(l),u=e.getLineContent(),c=l===n?i-1:0,h=l===o?r-1:u.length;a+=""===u?"<br>":Object(d["a"])(u,e.inflate(),t,c,h,s,O["j"])}return a}_getColorMap(){let e=u["B"].getColorMap(),t=["#000000"];if(e)for(let n=1,o=e.length;n<o;n++)t[n]=i["a"].Format.CSS.formatHex(e[n]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){this._withViewEventsCollector(i=>this._cursor.setStates(i,e,t,n))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector(i=>this._cursor.setSelections(i,e,t,n))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new P["d"]):this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit(i=>this._cursor.executeEdits(i,e,t,n))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(n=>this._cursor.type(n,e,t))}compositionType(e,t,n,i,o){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,n,i,o))}paste(e,t,n,i){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,n,i))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(n=>this._cursor.executeCommand(n,e,t))}executeCommands(e,t){this._executeCursorEdit(n=>this._cursor.executeCommands(n,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(n=>this._cursor.revealPrimary(n,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new h["m"](e,n,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new l["a"](t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new h["m"](e,n,null,0,!0,0)))}revealRange(e,t,n,i,o){this._withViewEventsCollector(r=>r.emitViewEvent(new h["m"](e,n,null,i,t,o)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){const t=this.viewLayout.changeWhitespace(e);t&&(this._eventDispatcher.emitSingleViewEvent(new h["r"]),this._eventDispatcher.emitOutgoingEvent(new P["g"]))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}},a21f:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return l}));class i{constructor(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class o extends i{constructor(e,t,n){super(e,t),this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class r{constructor(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}}class s{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class a{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class l{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}},a8d0:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return c}));var i=n("3742");class o{constructor(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}class r{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}}class s{constructor(e,t,n){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}static getInputOffsetOfOutputPosition(e,t,n){return 0===t?n:e[t-1]+n}static getOutputPositionOfInputOffset(e,t){let n=0,i=e.length-1,o=0,s=0;while(n<=i){o=n+(i-n)/2|0;const r=e[o];if(s=o>0?e[o-1]:0,t<s)i=o-1;else{if(!(t>=r))break;n=o+1}}return new r(o,t-s)}}class a{constructor(e,t){this.tabSize=e,this.data=t}}class l{constructor(e,t,n,i,o,r){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=o,this.tokens=r}}class u{constructor(e,t,n,i,o,r,s,a,l,d){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=i,this.isBasicASCII=u.isBasicASCII(n,r),this.containsRTL=u.containsRTL(n,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=d}static isBasicASCII(e,t){return!t||i["A"](e)}static containsRTL(e,t,n){return!(t||!n)&&i["m"](e)}}class d{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class c{constructor(e,t){this.range=e,this.options=t}}},b223:function(e,t,n){},e2dc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("a666");class o extends i["a"]{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,i=e.length;n<i;n++){let i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}},f33e:function(e,t,n){"use strict";n.d(t,"a",(function(){return ho})),n.d(t,"b",(function(){return go})),n.d(t,"c",(function(){return fo})),n.d(t,"d",(function(){return mo}));var i=n("fd49"),o=n("6eab"),r=(n("b223"),n("5717")),s=n("3695"),a=n("d0b6"),l=n("fb71"),u=n("8ae8"),d=n("3352"),c=n("b707"),h=n("8bf1"),g=n("a40b"),f=n("5818"),m=n("b78f"),p=n("af50"),w=n("6881"),b=n("5fe7"),v=n("3742"),_=n("e1b5"),C=n("6da2"),k=n("a8d0"),L=n("4dc7");function y(e){return Array.isArray(e)}function S(e){return!y(e)}function V(e){return"string"===typeof e}function E(e){return!V(e)}function M(e){return!e}function x(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function D(e){return e.replace(/[&<>'"_]/g,"-")}function T(e,t){console.log(`${e.languageId}: ${t}`)}function I(e,t){return new Error(`${e.languageId}: ${t}`)}function O(e,t,n,i,o){const r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return t.replace(r,(function(t,r,a,l,u,d,c,h,g){return M(a)?M(l)?!M(u)&&u<i.length?x(e,i[u]):!M(c)&&e&&"string"===typeof e[c]?e[c]:(null===s&&(s=o.split("."),s.unshift(o)),!M(d)&&d<s.length?x(e,s[d]):""):x(e,n):"$"}))}function N(e,t){let n=t;while(n&&n.length>0){const t=e.tokenizer[n];if(t)return t;const i=n.lastIndexOf(".");n=i<0?null:n.substr(0,i)}return null}function R(e,t){let n=t;while(n&&n.length>0){const t=e.stateNames[n];if(t)return!0;const i=n.lastIndexOf(".");n=i<0?null:n.substr(0,i)}return!1}const P=5;class A{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new F(e,t);let n=F.getStackElementId(e);n.length>0&&(n+="|"),n+=t;let i=this._entries[n];return i||(i=new F(e,t),this._entries[n]=i,i)}}A._INSTANCE=new A(P);class F{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";while(null!==e)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){while(null!==e&&null!==t){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return F._equals(this,e)}push(e){return A.create(this,e)}pop(){return this.parent}popall(){let e=this;while(e.parent)e=e.parent;return e}switchTo(e){return A.create(this.parent,e)}}class H{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){let e=this.state.clone();return e===this.state?this:new H(this.modeId,this.state)}}class B{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new j(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new j(e,t);let n=F.getStackElementId(e),i=this._entries[n];return i||(i=new j(e,null),this._entries[n]=i,i)}}B._INSTANCE=new B(P);class j{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){let e=this.embeddedModeData?this.embeddedModeData.clone():null;return e===this.embeddedModeData?this:B.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof j&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class z{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new L["a"](e,t,this._language)))}nestedModeTokenize(e,t,n,i){const o=n.modeId,r=n.state,s=c["B"].get(o);if(!s)return this.enterMode(i,o),this.emit(i,""),r;let a=s.tokenize(e,t,r,i);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState}finalize(e){return new L["b"](this._tokens,e)}}class K{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))}static _merge(e,t,n){let i=null!==e?e.length:0,o=t.length,r=null!==n?n.length:0;if(0===i&&0===o&&0===r)return new Uint32Array(0);if(0===i&&0===o)return n;if(0===o&&0===r)return e;let s=new Uint32Array(i+o+r);null!==e&&s.set(e);for(let a=0;a<o;a++)s[i+a]=t[a];return null!==n&&s.set(n,i+o),s}nestedModeTokenize(e,t,n,i){const o=n.modeId,r=n.state,s=c["B"].get(o);if(!s)return this.enterMode(i,o),this.emit(i,""),r;let a=s.tokenize2(e,t,r,i);return this._prependTokens=K._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new L["c"](K._merge(this._prependTokens,this._tokens,null),e)}}class W{constructor(e,t,n,i){this._modeService=e,this._standaloneThemeService=t,this._modeId=n,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=c["B"].onDidChange(e=>{if(o)return;let t=!1;for(let n=0,i=e.changedLanguages.length;n<i;n++){let i=e.changedLanguages[n];if(this._embeddedModes[i]){t=!0;break}}t&&(o=!0,c["B"].fire([this._modeId]),o=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const n=c["B"].get(t);if(n){if(n instanceof W){const t=n.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const i=c["B"].getPromise(t);i&&e.push(i)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(e=>{})}}getInitialState(){let e=A.create(null,this._lexer.start);return B.create(e,null)}tokenize(e,t,n,i){let o=new z,r=this._tokenize(e,t,n,i,o);return o.finalize(r)}tokenize2(e,t,n,i){let o=new K(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,n,i,o);return o.finalize(r)}_tokenize(e,t,n,i,o){return n.embeddedModeData?this._nestedTokenize(e,t,n,i,o):this._myTokenize(e,t,n,i,o)}_findLeavingNestedModeOffset(e,t){let n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=N(this._lexer,t.stack.state),!n))throw I(this._lexer,"tokenizer state is not defined: "+t.stack.state);let i=-1,o=!1;for(const r of n){if(!E(r.action)||"@pop"!==r.action.nextEmbedded)continue;o=!0;let t=r.regex,n=r.regex.source;if("^(?:"===n.substr(0,4)&&")"===n.substr(n.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(n.substr(4,n.length-5),e)}let s=e.search(t);-1===s||0!==s&&r.matchOnlyAtLineStart||(-1===i||s<i)&&(i=s)}if(!o)throw I(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i}_nestedTokenize(e,t,n,i,o){let r=this._findLeavingNestedModeOffset(e,n);if(-1===r){let r=o.nestedModeTokenize(e,t,n.embeddedModeData,i);return B.create(n.stack,new H(n.embeddedModeData.modeId,r))}let s=e.substring(0,r);s.length>0&&o.nestedModeTokenize(s,!1,n.embeddedModeData,i);let a=e.substring(r);return this._myTokenize(a,t,n,i+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,n,i,o){o.enterMode(i,this._modeId);const r=e.length,s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=n.embeddedModeData,u=n.stack,d=0,c=null,h=!0;while(h||d<a){const n=d,g=u.depth,f=c?c.groups.length:0,m=u.state;let p=null,w=null,b=null,v=null,_=null;if(c){p=c.matches;const e=c.groups.shift();w=e.matched,b=e.action,v=c.rule,0===c.groups.length&&(c=null)}else{if(!h&&d>=a)break;h=!1;let e=this._lexer.tokenizer[m];if(!e&&(e=N(this._lexer,m),!e))throw I(this._lexer,"tokenizer state is not defined: "+m);let t=s.substr(d);for(const n of e)if((0===d||!n.matchOnlyAtLineStart)&&(p=t.match(n.regex),p)){w=p[0],b=n.action;break}}if(p||(p=[""],w=""),b||(d<a&&(p=[s.charAt(d)],w=p[0]),b=this._lexer.defaultToken),null===w)break;d+=w.length;while(S(b)&&E(b)&&b.test)b=b.test(w,p,m,d===a);let C=null;if("string"===typeof b||Array.isArray(b))C=b;else if(b.group)C=b.group;else if(null!==b.token&&void 0!==b.token){if(C=b.tokenSubst?O(this._lexer,b.token,w,p,m):b.token,b.nextEmbedded)if("@pop"===b.nextEmbedded){if(!l)throw I(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw I(this._lexer,"cannot enter embedded mode from within an embedded mode");_=O(this._lexer,b.nextEmbedded,w,p,m)}if(b.goBack&&(d=Math.max(0,d-b.goBack)),b.switchTo&&"string"===typeof b.switchTo){let e=O(this._lexer,b.switchTo,w,p,m);if("@"===e[0]&&(e=e.substr(1)),!N(this._lexer,e))throw I(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(v));u=u.switchTo(e)}else{if(b.transform&&"function"===typeof b.transform)throw I(this._lexer,"action.transform not supported");if(b.next)if("@push"===b.next){if(u.depth>=this._lexer.maxStack)throw I(this._lexer,"maximum tokenizer stack size reached: ["+u.state+","+u.parent.state+",...]");u=u.push(m)}else if("@pop"===b.next){if(u.depth<=1)throw I(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(v));u=u.pop()}else if("@popall"===b.next)u=u.popall();else{let e=O(this._lexer,b.next,w,p,m);if("@"===e[0]&&(e=e.substr(1)),!N(this._lexer,e))throw I(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(v));u=u.push(e)}}b.log&&"string"===typeof b.log&&T(this._lexer,this._lexer.languageId+": "+O(this._lexer,b.log,w,p,m))}if(null===C)throw I(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(v));const k=n=>{let r=this._modeService.getModeIdForLanguageName(n);r&&(n=r);const s=this._getNestedEmbeddedModeData(n);if(d<a){const n=e.substr(d);return this._nestedTokenize(n,t,B.create(u,s),i+d,o)}return B.create(u,s)};if(Array.isArray(C)){if(c&&c.groups.length>0)throw I(this._lexer,"groups cannot be nested: "+this._safeRuleName(v));if(p.length!==C.length+1)throw I(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(v));let e=0;for(let t=1;t<p.length;t++)e+=p[t].length;if(e!==w.length)throw I(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(v));c={rule:v,matches:p,groups:[]};for(let t=0;t<C.length;t++)c.groups[t]={action:C[t],matched:p[t+1]};d-=w.length}else{{if("@rematch"===C&&(d-=w.length,w="",p=null,C="",null!==_))return k(_);if(0===w.length){if(0===a||g!==u.depth||m!==u.state||(c?c.groups.length:0)!==f)continue;throw I(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(v))}let e=null;if(V(C)&&0===C.indexOf("@brackets")){let t=C.substr("@brackets".length),n=q(this._lexer,w);if(!n)throw I(this._lexer,"@brackets token returned but no bracket defined as: "+w);e=D(n.token+t)}else{let t=""===C?"":C+this._lexer.tokenPostfix;e=D(t)}n<r&&o.emit(n+i,e)}if(null!==_)return k(_)}}return B.create(u,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=c["B"].get(t);if(e)return new H(t,e.getInitialState())}return new H(t||h["b"],h["c"])}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function q(e,t){if(!t)return null;t=x(e,t);let n=e.brackets;for(const i of n){if(i.open===t)return{token:i.token,bracketType:1};if(i.close===t)return{token:i.token,bracketType:-1}}return null}function $(e,t,n,i){return new W(e,t,n,i)}var U;const G=null===(U=window.trustedTypes)||void 0===U?void 0:U.createPolicy("standaloneColorizer",{createHTML:e=>e});class Q{static colorizeElement(e,t,n,i){i=i||{};let o=i.theme||"vs",r=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let s=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+o;let a=e=>{var t;const i=null!==(t=null===G||void 0===G?void 0:G.createHTML(e))&&void 0!==t?t:e;n.innerHTML=i};return this.colorize(t,s||"",r,i).then(a,e=>console.error(e))}static colorize(e,t,n,i){let o=4;i&&"number"===typeof i.tabSize&&(o=i.tabSize),v["S"](t)&&(t=t.substr(1));let r=v["Q"](t),s=e.getModeId(n);if(!s)return Promise.resolve(Y(r,o));e.triggerMode(s);const a=c["B"].get(s);if(a)return Z(r,o,a);const l=c["B"].getPromise(s);return new Promise(l?(e,t)=>{l.then(n=>{Z(r,o,n).then(e,t)},t)}:(e,t)=>{let n=null,i=null;const a=()=>{n&&(n.dispose(),n=null),i&&(i.dispose(),i=null);const a=c["B"].get(s);a?Z(r,o,a).then(e,t):e(Y(r,o))};i=new b["g"],i.cancelAndSet(a,500),n=c["B"].onDidChange(e=>{e.changedLanguages.indexOf(s)>=0&&a()})})}static colorizeLine(e,t,n,i,o=4){const r=k["e"].isBasicASCII(e,t),s=k["e"].containsRTL(e,r,n);let a=Object(C["e"])(new C["c"](!1,!0,e,!1,r,s,0,i,[],o,0,0,0,0,-1,"none",!1,!1,null));return a.html}static colorizeModelLine(e,t,n=4){let i=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t),r=o.inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,n)}}function Z(e,t,n){return new Promise((i,o)=>{const r=()=>{const s=J(e,t,n);if(n instanceof W){const e=n.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,o)}i(s)};r()})}function Y(e,t){let n=[];const i=16793600,o=new Uint32Array(2);o[0]=0,o[1]=i;for(let r=0,s=e.length;r<s;r++){let i=e[r];o[0]=i.length;const s=new _["a"](o,i),a=k["e"].isBasicASCII(i,!0),l=k["e"].containsRTL(i,a,!0);let u=Object(C["e"])(new C["c"](!1,!0,i,!1,a,l,0,s,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(u.html),n.push("<br/>")}return n.join("")}function J(e,t,n){let i=[],o=n.getInitialState();for(let r=0,s=e.length;r<s;r++){let s=e[r],a=n.tokenize2(s,!0,o,0);_["a"].convertToEndOffset(a.tokens,s.length);let l=new _["a"](a.tokens,s);const u=k["e"].isBasicASCII(s,!0),d=k["e"].containsRTL(s,u,!0);let c=Object(C["e"])(new C["c"](!1,!0,s,!1,u,d,0,l.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(c.html),i.push("<br/>"),o=a.endState}return i.join("")}var X=n("11f7"),ee=n("b835"),te=n("308f"),ne=n("fe45"),ie=n("a666"),oe=n("30db"),re=n("4b76"),se=n("6d8e"),ae=n("b055"),le=n("c7f5"),ue=n("8830"),de=n("d3f4"),ce=n("7061"),he=n("6a89"),ge=n("1b69"),fe=n("9e74"),me=n("fbba"),pe=n("bd05"),we=n("6206"),be=n("61c2"),ve=n("9eb8"),_e=n("c6a9"),Ce=n("5fc1"),ke=n("b0cd"),Le=n("1165"),ye=n("03d9"),Se=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Ve=function(e,t){return function(n,i){t(n,i,e)}},Ee=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Me{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new te["a"]}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function xe(e,t,n){return Object(ae["a"])(e)?t(e):n(e)}let De=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;return this.editor&&(t=xe(this.editor,t=>this.findModel(t,e),t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e))),t?Promise.resolve(new ie["c"](new Me(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let n=this.modelService.getModel(t);return n&&n.uri.toString()!==t.toString()?null:n}};De=Se([Ve(0,ge["a"])],De);class Te{show(){return Te.NULL_PROGRESS_RUNNER}showWhile(e,t){return Ee(this,void 0,void 0,(function*(){yield e}))}}Te.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ie{confirm(e){return this.doConfirm(e).then(e=>({confirmed:e,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,n,i){return Promise.resolve({choice:0})}}class Oe{info(e){return this.notify({severity:re["a"].Info,message:e})}warn(e){return this.notify({severity:re["a"].Warning,message:e})}error(e){return this.notify({severity:re["a"].Error,message:e})}notify(e){switch(e.severity){case re["a"].Error:console.error(e.message);break;case re["a"].Warning:console.warn(e.message);break;default:console.log(e.message);break}return Oe.NO_OP}status(e,t){return ie["a"].None}}Oe.NO_OP=new ke["b"];class Ne{constructor(e){this._onWillExecuteCommand=new te["a"],this._onDidExecuteCommand=new te["a"],this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const n=fe["a"].getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const i=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(i)}catch(i){return Promise.reject(i)}}}class Re extends we["a"]{constructor(e,t,n,i,o,r){super(e,t,n,i,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(X["g"](r,X["d"].KEY_DOWN,e=>{const t=new ee["a"](e),n=this._dispatch(t,t.target);n&&(t.preventDefault(),t.stopPropagation())})),this._register(X["g"](window,X["d"].KEY_UP,e=>{const t=new ee["a"](e),n=this._singleModifierDispatch(t,t.target);n&&t.preventDefault()}))}addDynamicKeybinding(e,t,n,i){const o=Object(ne["f"])(t,oe["a"]),r=new ie["b"];return o&&(this._dynamicKeybindings.push({keybinding:o,command:e,when:i,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add(Object(ie["h"])(()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){let n=this._dynamicKeybindings[t];if(n.command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}}))),r.add(fe["a"].registerCommand(e,n)),this.updateResolver({source:1}),r}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(ve["a"].getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new be["a"](e,t,e=>this._log(e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let n=[],i=0;for(const o of e){const e=o.when||void 0,r=o.keybinding;if(r){const s=this.resolveKeybinding(r);for(const r of s)n[i++]=new _e["a"](r,o.command,o.commandArgs,e,t,null,!1)}else n[i++]=new _e["a"](void 0,o.command,o.commandArgs,e,t,null,!1)}return n}resolveKeybinding(e){return[new Ce["a"](e,oe["a"])]}resolveKeyboardEvent(e){let t=new ne["e"](e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Ce["a"](t,oe["a"])}}function Pe(e){return e&&"object"===typeof e&&(!e.overrideIdentifier||"string"===typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof se["a"])}class Ae{constructor(){this._onDidChangeConfiguration=new te["a"],this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new pe["a"](new pe["d"],new pe["c"])}getValue(e,t){const n="string"===typeof e?e:void 0,i=Pe(e)?e:Pe(t)?t:{};return this._configuration.getValue(n,i,void 0)}updateValues(e){const t={data:this._configuration.toData()};let n=[];for(const i of e){const[e,t]=i;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),n.push(e))}if(n.length>0){const e=new pe["b"]({keys:n,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class Fe{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new te["a"],this.configurationService.onDidChangeConfiguration(e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,n)=>e.affectsConfiguration(n)})})}getValue(e,t,n){const i=ce["a"].isIPosition(t)?t:null,o=i?"string"===typeof n?n:void 0:"string"===typeof t?t:void 0;return"undefined"===typeof o?this.configurationService.getValue():this.configurationService.getValue(o)}}let He=class{constructor(e){this.configurationService=e}getEOL(e,t){const n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&"auto"!==n?n:oe["d"]||oe["f"]?"\n":"\r\n"}};He=Se([Ve(0,me["a"])],He);class Be{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class je{constructor(){const e=se["a"].from({scheme:je.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Le["b"]({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function ze(e,t,n){if(!t)return;if(!(e instanceof Ae))return;let i=[];Object.keys(t).forEach(e=>{Object(ue["c"])(e)&&i.push(["editor."+e,t[e]]),n&&Object(ue["b"])(e)&&i.push(["diffEditor."+e,t[e]])}),i.length>0&&e.updateValues(i)}je.SCHEME="inmemory";class Ke{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Ee(this,void 0,void 0,(function*(){const t=new Map;for(let o of e){if(!(o instanceof le["b"]))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(o.resource);if(!e)throw new Error("bad edit - model not found");if("number"===typeof o.versionId&&e.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push(de["a"].replaceMove(he["a"].lift(o.textEdit.range),o.textEdit.text))}let n=0,i=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,()=>[]),e.pushStackElement(),i+=1,n+=o.length;return{ariaSummary:v["v"](ye["a"].bulkEditServiceSummary,n,i)}}))}}class We{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class qe{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=te["b"].None}get dimension(){return this._dimension||(this._dimension=X["w"](window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}var $e=n("3813"),Ue=n("9c1d"),Ge=n("4a64"),Qe=n("f58f"),Ze=n("0a0f");const Ye=Object(Ze["c"])("themeService");var Je=n("7e32"),Xe=n("4fc3"),et=n("533b"),tt=n("6dec"),nt=n("b7d0"),it=n("4779"),ot=n("f577"),rt=n("b539"),st=n("b589"),at=n("9e6f"),lt=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ut=function(e,t){return function(n,i){t(n,i,e)}};let dt=class extends at["a"]{constructor(e,t,n){super(e,n),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,n){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){const n=this.findModel(e,t.resource);if(!n){if(t.resource){const n=t.resource.scheme;if(n===st["c"].http||n===st["c"].https)return Object(X["T"])(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"===typeof i.endLineNumber&&"number"===typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};dt=lt([ut(1,Xe["b"]),ut(2,nt["b"])],dt);var ct=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},ht=function(e,t){return function(n,i){t(n,i,e)}};let gt=0,ft=!1;function mt(){ft||(ft=!0,$e["b"](document.body))}let pt=class extends Ue["a"]{constructor(e,t,n,i,o,r,s,a,l,u){const d=Object.assign({},t);d.ariaLabel=d.ariaLabel||ye["b"].editorViewAccessibleLabel,d.ariaLabel=d.ariaLabel+";"+ye["b"].accessibilityHelpMessage,super(e,d,{},n,i,o,r,a,l,u),this._standaloneKeybindingService=s instanceof Re?s:null,mt()}addCommand(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let i="DYNAMIC_"+ ++gt,o=Xe["a"].deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,o),i}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!==typeof e.id||"string"!==typeof e.label||"function"!==typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ie["a"].None;const t=e.id,n=e.label,i=Xe["a"].and(Xe["a"].equals("editorId",this.getId()),Xe["a"].deserialize(e.precondition)),o=e.keybindings,r=Xe["a"].and(i,Xe["a"].deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...n)=>Promise.resolve(e.run(this,...n)),u=new ie["b"],d=this.getId()+":"+t;if(u.add(fe["a"].registerCommand(d,l)),s){let e={command:{id:d,title:n},when:i,group:s,order:a};u.add(Je["d"].appendMenuItem(Je["b"].EditorContext,e))}if(Array.isArray(o))for(const h of o)u.add(this._standaloneKeybindingService.addDynamicKeybinding(d,h,l,r));let c=new Qe["a"](d,n,n,i,l,this._contextKeyService);return this._actions[t]=c,u.add(Object(ie["h"])(()=>{delete this._actions[t]})),u}_triggerCommand(e,t){if(this._codeEditorService instanceof dt)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};pt=ct([ht(2,Ze["a"]),ht(3,r["a"]),ht(4,fe["b"]),ht(5,Xe["b"]),ht(6,tt["a"]),ht(7,nt["b"]),ht(8,ke["a"]),ht(9,it["b"])],pt);let wt=class extends pt{constructor(e,t,n,i,o,r,s,a,l,u,d,c,h,g,f){const m=Object.assign({},t);ze(c,m,!1);const p=u.registerEditorContainer(e);"string"===typeof m.theme&&u.setTheme(m.theme),"undefined"!==typeof m.autoDetectHighContrast&&u.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast));let w,b=m.model;if(delete m.model,super(e,m,i,o,r,s,a,u,d,h),this._contextViewService=l,this._configurationService=c,this._standaloneThemeService=u,this._register(n),this._register(p),"undefined"===typeof b?(w=vt(g,f,m.value||"",m.language||"text/plain",void 0),this._ownsModel=!0):(w=b,this._ownsModel=!1),this._attachModel(w),w){let e={oldModelUrl:null,newModelUrl:w.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){ze(this._configurationService,e,!1),"string"===typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),"undefined"!==typeof e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};wt=ct([ht(3,Ze["a"]),ht(4,r["a"]),ht(5,fe["b"]),ht(6,Xe["b"]),ht(7,tt["a"]),ht(8,et["b"]),ht(9,Ye),ht(10,ke["a"]),ht(11,me["a"]),ht(12,it["b"]),ht(13,ge["a"]),ht(14,f["a"])],wt);let bt=class extends Ge["a"]{constructor(e,t,n,i,o,r,s,a,l,u,d,c,h,g,f){const m=Object.assign({},t);ze(c,m,!0);const p=u.registerEditorContainer(e);"string"===typeof m.theme&&u.setTheme(m.theme),"undefined"!==typeof m.autoDetectHighContrast&&u.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast)),super(e,m,{},f,a,o,i,l,u,d,h,g),this._contextViewService=s,this._configurationService=c,this._standaloneThemeService=u,this._register(n),this._register(p),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){ze(this._configurationService,e,!0),"string"===typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),"undefined"!==typeof e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,n){return e.createInstance(pt,t,n)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function vt(e,t,n,i,o){if(n=n||"",!i){const i=n.indexOf("\n");let r=n;return-1!==i&&(r=n.substring(0,i)),_t(e,n,t.createByFilepathOrFirstLine(o||null,r),o)}return _t(e,n,t.create(i),o)}function _t(e,t,n,i){return e.createModel(t,n,i)}bt=ct([ht(3,Ze["a"]),ht(4,Xe["b"]),ht(5,tt["a"]),ht(6,et["b"]),ht(7,g["a"]),ht(8,r["a"]),ht(9,Ye),ht(10,ke["a"]),ht(11,me["a"]),ht(12,et["a"]),ht(13,rt["a"]),ht(14,ot["a"])],bt);var Ct=n("567d"),kt=n("d19c"),Lt=n("d1a7"),yt=n("7b4a"),St=n("ceb8"),Vt=n("5adc"),Et=n("918c"),Mt=n("303e");const xt={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Mt["q"]]:"#FFFFFE",[Mt["v"]]:"#000000",[Mt["y"]]:"#E5EBF1",[Et["e"]]:"#D3D3D3",[Et["a"]]:"#939393",[Mt["E"]]:"#ADD6FF4D",[Mt["gb"]]:"#9DDDFF"}},Dt={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Mt["q"]]:"#1E1E1E",[Mt["v"]]:"#D4D4D4",[Mt["y"]]:"#3A3D41",[Et["e"]]:"#404040",[Et["a"]]:"#707070",[Mt["E"]]:"#ADD6FF26"}},Tt={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Mt["q"]]:"#000000",[Mt["v"]]:"#FFFFFF",[Et["e"]]:"#FFFFFF",[Et["a"]]:"#FFFFFF"}};var It=n("89cd"),Ot=n("9c41"),Nt=n("ced5");const Rt="vs",Pt="vs-dark",At="hc-black",Ft=It["a"].as(Mt["a"].ColorContribution),Ht=It["a"].as(nt["a"].ThemingContribution);class Bt{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let n=t.base;e.length>0?(jt(e)?this.id=e:this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,St["a"].fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=zt(this.themeData.base);for(let n in t.colors)e.has(n)||e.set(n,St["a"].fromHex(t.colors[n]))}this.colors=e}return this.colors}getColor(e,t){const n=this.getColors().get(e);return n||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Ft.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Rt:return Ot["a"].LIGHT;case At:return Ot["a"].HIGH_CONTRAST;default:return Ot["a"].DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let n=zt(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Vt["a"].createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,n){const i=this.tokenTheme._match([e].concat(t).join(".")),o=i.metadata,r=c["A"].getForeground(o),s=c["A"].getFontStyle(o);return{foreground:r,italic:Boolean(1&s),bold:Boolean(2&s),underline:Boolean(4&s)}}}function jt(e){return e===Rt||e===Pt||e===At}function zt(e){switch(e){case Rt:return xt;case Pt:return Dt;case At:return Tt}}function Kt(e){let t=zt(e);return new Bt(e,t)}class Wt extends ie["a"]{constructor(){super(),this._onColorThemeChange=this._register(new te["a"]),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Rt,Kt(Rt)),this._knownThemes.set(Pt,Kt(Pt)),this._knownThemes.set(At,Kt(At));const e=Object(Nt["a"])();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Rt),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),X["k"]("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return X["K"](e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=X["t"](),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ie["a"].None}_registerShadowDomContainer(e){const t=X["t"](e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!jt(t.base)&&!jt(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Bt(e,t)),jt(e)&&this._knownThemes.forEach(t=>{t.base===e&&t.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Rt),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(At):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},n={addRule:n=>{t[n]||(e.push(n),t[n]=!0)}};Ht.getThemingParticipants().forEach(e=>e(this._theme,n,this._environment));const i=this._colorMapOverride||this._theme.tokenTheme.getColorMap();n.addRule(Object(Vt["b"])(i)),this._themeCSS=e.join("\n"),this._updateCSS(),c["B"].setColorMap(i),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var qt=n("f620"),$t=n("762e"),Ut=n("107e"),Gt=n("eafb"),Qt=n("485e"),Zt=n("f07b"),Yt=n("47cb"),Jt=n("93d9"),Xt=n("d3d7"),en=n("37f2"),tn=n("b400"),nn=n("03e8"),on=n("5d75"),rn=n("4e95"),sn=n("efdb"),an=n("e6e5"),ln=n("ad8e"),un=n("f5f3"),dn=n("cb33"),cn=n("856b"),hn=n("3803"),gn=n("55d7"),fn=(n("675a"),n("b2cc")),mn=n("2504"),pn=n("e42a"),wn=n("0bfb"),bn=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},vn=function(e,t){return function(n,i){t(n,i,e)}};let _n=class extends pn["a"]{constructor(e,t,n,i,o,r){super(t,n,i,o,r),this.host=void 0;const s=kn.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};_n=bn([vn(1,Ze["a"]),vn(2,Xe["b"]),vn(3,nt["b"]),vn(4,it["b"]),vn(5,ln["a"])],_n);let Cn=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const n=t=this.instantiationService.createInstance(_n,e);this.mapEditorToService.set(e,t),Object(wn["a"])(e.onDidDispose)(()=>{n.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},n=mn["a"].None){return this.activeService.pick(e,t,n)}createQuickPick(){return this.activeService.createQuickPick()}};Cn=bn([vn(0,Ze["a"]),vn(1,r["a"])],Cn);class kn{constructor(e){this.editor=e,this.widget=new Ln(this.editor)}static get(e){return e.getContribution(kn.ID)}dispose(){this.widget.dispose()}}kn.ID="editor.controller.quickInput";class Ln{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Ln.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Ln.ID="editor.contrib.quickInputWidget",Object(fn["j"])(kn.ID,kn);var yn,Sn=n("66bd");(function(e){const t=new Zt["a"];class n{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=n;let i=[];function o(e,t){let o=new n(e,t);return i.push(o),o}function s(e){let t=new Zt["a"];for(const[i,o]of Object(un["a"])())t.set(i,o);for(let i in e)e.hasOwnProperty(i)&&t.set(Object(Ze["c"])(i),e[i]);i.forEach(n=>t.set(n.id,n.get(e)));let n=new Qt["a"](t,!0);return t.set(Ze["a"],n),[t,n]}e.init=s,e.instantiationService=o(Ze["a"],()=>new Qt["a"](t,!0));const a=new Ae;e.configurationService=o(me["a"],()=>a),e.resourceConfigurationService=o(yt["a"],()=>new Fe(a)),e.resourcePropertiesService=o(yt["b"],()=>new He(a)),e.contextService=o(Le["a"],()=>new je),e.labelService=o(Yt["a"],()=>new We),e.telemetryService=o(on["a"],()=>new Be),e.dialogService=o(Gt["a"],()=>new Ie),e.notificationService=o(ke["a"],()=>new Oe),e.markerService=o(tn["a"],()=>new en["a"]),e.modeService=o(f["a"],e=>new kt["a"]),e.standaloneThemeService=o(Ye,()=>new Wt),e.logService=o(Xt["b"],()=>new Xt["d"](new Xt["a"])),e.undoRedoService=o(hn["a"],t=>new gn["a"](e.dialogService.get(t),e.notificationService.get(t))),e.modelService=o(ge["a"],t=>new Lt["a"](e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t))),e.markerDecorationsService=o(sn["a"],t=>new an["a"](e.modelService.get(t),e.markerService.get(t))),e.contextKeyService=o(Xe["b"],t=>new qt["a"](e.configurationService.get(t))),e.codeEditorService=o(r["a"],t=>new dt(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t))),e.editorProgressService=o(rt["a"],()=>new Te),e.storageService=o(nn["a"],()=>new nn["b"]),e.editorWorkerService=o(g["a"],t=>new Ct["b"](e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t)))})(yn||(yn={}));class Vn extends ie["a"]{constructor(e,t){super();const[n,i]=yn.init(t);this._serviceCollection=n,this._instantiationService=i;const o=this.get(me["a"]),s=this.get(ke["a"]),a=this.get(on["a"]),l=this.get(nt["b"]),u=this.get(Xt["b"]),d=this.get(Xe["b"]);let c=(e,n)=>{let i=null;return t&&(i=t[e.toString()]),i||(i=n()),this._serviceCollection.set(e,i),i};c(it["b"],()=>new dn["a"](d,o)),c(Jt["a"],()=>new Jt["b"](l));let h=c(fe["b"],()=>new Ne(this._instantiationService)),g=c(tt["a"],()=>this._register(new Re(d,h,a,s,u,e))),f=c(ln["a"],()=>new qe(yn.codeEditorService.get(r["a"]),e));c(Sn["a"],()=>new Cn(i,yn.codeEditorService.get(r["a"])));let m=c(et["b"],()=>this._register(new Ut["a"](f)));c(ot["a"],()=>new cn["a"]),c(et["a"],()=>{const e=new $t["a"](a,s,m,g,l);return e.configure({blockMouse:!1}),this._register(e)}),c(Je["a"],()=>new rn["a"](h)),c(le["a"],()=>new Ke(yn.modelService.get(ge["a"])))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}var En=n("5bd7"),Mn=n("1ddc");function xn(e,t,n){let i=new Vn(e,t),o=null;i.has(m["a"])||(o=new De(yn.modelService.get()),i.set(m["a"],o)),i.has(En["a"])||i.set(En["a"],new s["a"](i.get(r["a"]),i.get(fe["b"])));let a=n(i);return o&&o.setEditor(a),a}function Dn(e,t,n){return xn(e,n||{},n=>new wt(e,t,n,n.get(Ze["a"]),n.get(r["a"]),n.get(fe["b"]),n.get(Xe["b"]),n.get(tt["a"]),n.get(et["b"]),n.get(Ye),n.get(ke["a"]),n.get(me["a"]),n.get(it["b"]),n.get(ge["a"]),n.get(f["a"])))}function Tn(e){return yn.codeEditorService.get().onCodeEditorAdd(t=>{e(t)})}function In(e,t,n){return xn(e,n||{},n=>new bt(e,t,n,n.get(Ze["a"]),n.get(Xe["b"]),n.get(tt["a"]),n.get(et["b"]),n.get(g["a"]),n.get(r["a"]),n.get(Ye),n.get(ke["a"]),n.get(me["a"]),n.get(et["a"]),n.get(rt["a"]),n.get(ot["a"])))}function On(e,t){return new a["a"](e,t)}function Nn(e,t,n){return vt(yn.modelService.get(),yn.modeService.get(),e,t,n)}function Rn(e,t){yn.modelService.get().setMode(e,yn.modeService.get().create(t))}function Pn(e,t,n){e&&yn.markerService.get().changeOne(t,e.uri,n)}function An(e){return yn.markerService.get().read(e)}function Fn(e){return yn.markerService.get().onMarkerChanged(e)}function Hn(e){return yn.modelService.get().getModel(e)}function Bn(){return yn.modelService.get().getModels()}function jn(e){return yn.modelService.get().onModelAdded(e)}function zn(e){return yn.modelService.get().onModelRemoved(e)}function Kn(e){return yn.modelService.get().onModelModeChanged(t=>{e({model:t.model,oldLanguage:t.oldModeId})})}function Wn(e){return Object(p["a"])(yn.modelService.get(),e)}function qn(e,t){const n=yn.standaloneThemeService.get();return n.registerEditorContainer(e),Q.colorizeElement(n,yn.modeService.get(),e,t)}function $n(e,t,n){const i=yn.standaloneThemeService.get();return i.registerEditorContainer(document.body),Q.colorize(yn.modeService.get(),e,t,n)}function Un(e,t,n=4){const i=yn.standaloneThemeService.get();return i.registerEditorContainer(document.body),Q.colorizeModelLine(e,t,n)}function Gn(e){let t=c["B"].get(e);return t||{getInitialState:()=>h["c"],tokenize:(t,n,i,o)=>Object(h["d"])(e,t,i,o)}}function Qn(e,t){let n=yn.modeService.get();n.triggerMode(t);let i=Gn(t),o=Object(v["Q"])(e),r=[],s=i.getInitialState();for(let a=0,l=o.length;a<l;a++){let e=o[a],t=i.tokenize(e,!0,s,0);r[a]=t.tokens,s=t.endState}return r}function Zn(e,t){yn.standaloneThemeService.get().defineTheme(e,t)}function Yn(e){yn.standaloneThemeService.get().setTheme(e)}function Jn(){Object(Mn["b"])()}function Xn(e,t){return fe["a"].registerCommand({id:e,handler:t})}function ei(){return{create:Dn,onDidCreateEditor:Tn,createDiffEditor:In,createDiffNavigator:On,createModel:Nn,setModelLanguage:Rn,setModelMarkers:Pn,getModelMarkers:An,onDidChangeMarkers:Fn,getModels:Bn,getModel:Hn,onDidCreateModel:jn,onWillDisposeModel:zn,onDidChangeModelLanguage:Kn,createWebWorker:Wn,colorizeElement:qn,colorize:$n,colorizeModelLine:Un,tokenize:Qn,defineTheme:Zn,setTheme:Yn,remeasureFonts:Jn,registerCommand:Xn,AccessibilitySupport:w["a"],ContentWidgetPositionPreference:w["f"],CursorChangeReason:w["g"],DefaultEndOfLine:w["h"],EditorAutoIndentStrategy:w["j"],EditorOption:w["k"],EndOfLinePreference:w["l"],EndOfLineSequence:w["m"],MinimapPosition:w["t"],MouseTargetType:w["u"],OverlayWidgetPositionPreference:w["v"],OverviewRulerLane:w["w"],RenderLineNumbersType:w["x"],RenderMinimap:w["y"],ScrollbarVisibility:w["A"],ScrollType:w["z"],TextEditorCursorBlinkingStyle:w["F"],TextEditorCursorStyle:w["G"],TrackedRangeStickiness:w["H"],WrappingIndent:w["I"],ConfigurationChangedEvent:i["b"],BareFontInfo:l["a"],FontInfo:l["b"],TextModelResolvedOptions:d["e"],FindMatch:d["b"],EditorType:u["a"],EditorOptions:i["g"]}}var ti=n("70cb"),ni=n("32a4");function ii(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const n of t)if(!e(n))return!1;return!0}function oi(e,t){return"boolean"===typeof e?e:t}function ri(e,t){return"string"===typeof e?e:t}function si(e){const t={};for(const n of e)t[n]=!0;return t}function ai(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const n=si(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function li(e,t){t=t.replace(/@@/g,"");let n,i=0;do{n=!1,t=t.replace(/@(\w+)/g,(function(i,o){n=!0;let r="";if("string"===typeof e[o])r=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?I(e,"language definition does not contain attribute '"+o+"', used at: "+t):I(e,"attribute reference '"+o+"' must be a string, used at: "+t);r=e[o].source}return M(r)?"":"(?:"+r+")"})),i++}while(n&&i<5);t=t.replace(/\x01/g,"@");let o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function ui(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;let e=n.split(".");if(e.unshift(n),i<e.length)return e[i]}return null}function di(e,t,n,i){let o=-1,r=n,s=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);let a,l="~",u=r;if(r&&0!==r.length?/^\w*$/.test(u)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],u=s[2])):(l="!=",u=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(u))if("@"===l||"!@"===l){let n=e[u];if(!n)throw I(e,"the @ match target '"+u+"' is not defined, in rule: "+t);if(!ii((function(e){return"string"===typeof e}),n))throw I(e,"the @ match target '"+u+"' must be an array of strings, in rule: "+t);let i=ai(n,e.ignoreCase);a=function(e){return"@"===l?i(e):!i(e)}}else if("~"===l||"!~"===l)if(u.indexOf("$")<0){let t=li(e,"^"+u+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,n,i,o){let r=li(e,"^"+O(e,u,n,i,o)+"$");return r.test(t)};else if(u.indexOf("$")<0){let t=x(e,u);a=function(e){return"=="===l?e===t:e!==t}}else{let t=x(e,u);a=function(n,i,o,r,s){let a=O(e,t,i,o,r);return"=="===l?n===a:n!==a}}else{let t=ai(u.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:n,value:i,test:function(e,t,n,i){return a(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){let r=ui(e,t,n,o);return a(r||"",e,t,n,i)}}}function ci(e,t,n){if(n){if("string"===typeof n)return n;if(n.token||""===n.token){if("string"!==typeof n.token)throw I(e,"a 'token' attribute must be of type string, in rule: "+t);{let i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"===typeof n.bracket)if("@open"===n.bracket)i.bracket=1;else{if("@close"!==n.bracket)throw I(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);i.bracket=-1}if(n.next){if("string"!==typeof n.next)throw I(e,"the next state must be a string value in rule: "+t);{let o=n.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!R(e,O(e,o,"",[],""))))throw I(e,"the next state '"+n.next+"' is not defined in rule: "+t);i.next=o}}return"number"===typeof n.goBack&&(i.goBack=n.goBack),"string"===typeof n.switchTo&&(i.switchTo=n.switchTo),"string"===typeof n.log&&(i.log=n.log),"string"===typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}}if(Array.isArray(n)){let i=[];for(let o=0,r=n.length;o<r;o++)i[o]=ci(e,t,n[o]);return{group:i}}if(n.cases){let i=[];for(let r in n.cases)if(n.cases.hasOwnProperty(r)){const o=ci(e,t,n.cases[r]);"@default"===r||"@"===r||""===r?i.push({test:void 0,value:o,name:r}):"@eos"===r?i.push({test:function(e,t,n,i){return i},value:o,name:r}):i.push(di(e,t,r,o))}const o=e.defaultToken;return{test:function(e,t,n,r){for(const o of i){const i=!o.test||o.test(e,t,n,r);if(i)return o.value}return o}}}throw I(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class hi{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let n;if("string"===typeof t)n=t;else{if(!(t instanceof RegExp))throw I(e,"rules must start with a match string or regular expression: "+this.name);n=t.source}this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=li(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(e,t){this.action=ci(e,this.name,t)}}function gi(e,t){if(!t||"object"!==typeof t)throw new Error("Monarch: expecting a language definition object");let n={};n.languageId=e,n.includeLF=oi(t.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start="string"===typeof t.start?t.start:null,n.ignoreCase=oi(t.ignoreCase,!1),n.unicode=oi(t.unicode,!1),n.tokenPostfix=ri(t.tokenPostfix,"."+n.languageId),n.defaultToken=ri(t.defaultToken,"source"),n.usesEmbedded=!1;let i=t;function o(e,r,s){for(const a of s){let s=a.include;if(s){if("string"!==typeof s)throw I(n,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw I(n,"include target '"+s+"' is not defined at: "+e);o(e+"."+s,r,t.tokenizer[s])}else{const t=new hi(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(i,a[0]),a.length>=3)if("string"===typeof a[1])t.setAction(i,{token:a[1],next:a[2]});else{if("object"!==typeof a[1])throw I(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(i,e)}}else t.setAction(i,a[1]);else{if(!a.regex)throw I(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"===typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=oi(a.matchOnlyAtLineStart,!1)),t.setRegex(i,a.regex),t.setAction(i,a.action)}r.push(t)}}}if(i.languageId=e,i.includeLF=n.includeLF,i.ignoreCase=n.ignoreCase,i.unicode=n.unicode,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,!t.tokenizer||"object"!==typeof t.tokenizer)throw I(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(let s in t.tokenizer)if(t.tokenizer.hasOwnProperty(s)){n.start||(n.start=s);const e=t.tokenizer[s];n.tokenizer[s]=new Array,o("tokenizer."+s,n.tokenizer[s],e)}if(n.usesEmbedded=i.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw I(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let s of t.brackets){let e=s;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw I(n,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!==typeof e.open||"string"!==typeof e.token||"string"!==typeof e.close)throw I(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");r.push({token:e.token+n.tokenPostfix,open:x(n,e.open),close:x(n,e.close)})}return n.brackets=r,n.noThrow=!0,n}function fi(e){ni["a"].registerLanguage(e)}function mi(){let e=[];return e=e.concat(ni["a"].getLanguages()),e}function pi(e){let t=yn.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function wi(e,t){let n=yn.modeService.get().onDidCreateMode(i=>{i.getId()===e&&(n.dispose(),t())});return n}function bi(e,t){let n=yn.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error("Cannot set configuration for unknown language "+e);return ti["a"].register(n,t,100)}class vi{constructor(e,t){this._languageIdentifier=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,n,i){if("function"===typeof this._actual.tokenize)return _i.adaptTokenize(this._languageIdentifier.language,this._actual,e,n,i);throw new Error("Not supported!")}tokenize2(e,t,n){let i=this._actual.tokenizeEncoded(e,n);return new L["c"](i.tokens,i.endState)}}class _i{constructor(e,t,n){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,n){let i=[],o=0;for(let r=0,s=e.length;r<s;r++){const s=e[r];let a=s.startIndex;0===r?a=0:a<o&&(a=o),i[r]=new L["a"](a+n,s.scopes,t),o=a}return i}static adaptTokenize(e,t,n,i,o){let r,s=t.tokenize(n,i),a=_i._toClassicTokens(s.tokens,e,o);return r=s.endState.equals(i)?i:s.endState,new L["b"](a,r)}tokenize(e,t,n,i){return _i.adaptTokenize(this._languageIdentifier.language,this._actual,e,n,i)}_toBinaryTokens(e,t){const n=this._languageIdentifier.id,i=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],r=0,s=0;for(let l=0,u=e.length;l<u;l++){const a=e[l],u=i.match(n,a.scopes);if(r>0&&o[r-1]===u)continue;let d=a.startIndex;0===l?d=0:d<s&&(d=s),o[r++]=d+t,o[r++]=u,s=d}let a=new Uint32Array(r);for(let l=0;l<r;l++)a[l]=o[l];return a}tokenize2(e,t,n,i){let o,r=this._actual.tokenize(e,n),s=this._toBinaryTokens(r.tokens,i);return o=r.endState.equals(n)?n:r.endState,new L["c"](s,o)}}function Ci(e){return"tokenizeEncoded"in e}function ki(e){return e&&"function"===typeof e.then}function Li(e){if(e){const t=[null];for(let n=1,i=e.length;n<i;n++)t[n]=St["a"].fromHex(e[n]);yn.standaloneThemeService.get().setColorMapOverride(t)}else yn.standaloneThemeService.get().setColorMapOverride(null)}function yi(e,t){let n=yn.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error("Cannot set tokens provider for unknown language "+e);const i=e=>Ci(e)?new vi(n,e):new _i(yn.standaloneThemeService.get(),n,e);return ki(t)?c["B"].registerPromise(e,t.then(e=>i(e))):c["B"].register(e,i(t))}function Si(e,t){const n=t=>$(yn.modeService.get(),yn.standaloneThemeService.get(),e,gi(e,t));return ki(t)?c["B"].registerPromise(e,t.then(e=>n(e))):c["B"].register(e,n(t))}function Vi(e,t){return c["w"].register(e,t)}function Ei(e,t){return c["x"].register(e,t)}function Mi(e,t){return c["z"].register(e,t)}function xi(e,t){return c["o"].register(e,{provideHover:(e,n,i)=>{let o=e.getWordAtPosition(n);return Promise.resolve(t.provideHover(e,n,i)).then(e=>{if(e)return!e.range&&o&&(e.range=new he["a"](n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)),e.range||(e.range=new he["a"](n.lineNumber,n.column,n.lineNumber,n.column)),e})}})}function Di(e,t){return c["l"].register(e,t)}function Ti(e,t){return c["h"].register(e,t)}function Ii(e,t){return c["u"].register(e,t)}function Oi(e,t){return c["f"].register(e,t)}function Ni(e,t){return c["p"].register(e,t)}function Ri(e,t){return c["C"].register(e,t)}function Pi(e,t){return c["b"].register(e,t)}function Ai(e,t){return c["a"].register(e,{provideCodeActions:(e,n,i,o)=>{let r=yn.markerService.get().read({resource:e.uri}).filter(e=>he["a"].areIntersectingOrTouching(e,n));return t.provideCodeActions(e,n,{markers:r,only:i.only},o)}})}function Fi(e,t){return c["g"].register(e,t)}function Hi(e,t){return c["i"].register(e,t)}function Bi(e,t){return c["v"].register(e,t)}function ji(e,t){return c["t"].register(e,t)}function zi(e,t){return c["d"].register(e,t)}function Ki(e,t){return c["c"].register(e,t)}function Wi(e,t){return c["n"].register(e,t)}function qi(e,t){return c["e"].register(e,t)}function $i(e,t){return c["y"].register(e,t)}function Ui(e,t){return c["k"].register(e,t)}function Gi(e,t){return c["j"].register(e,t)}function Qi(e,t){return c["r"].register(e,t)}function Zi(){return{register:fi,getLanguages:mi,onLanguage:wi,getEncodedLanguageId:pi,setLanguageConfiguration:bi,setColorMap:Li,setTokensProvider:yi,setMonarchTokensProvider:Si,registerReferenceProvider:Vi,registerRenameProvider:Ei,registerCompletionItemProvider:zi,registerSignatureHelpProvider:Mi,registerHoverProvider:xi,registerDocumentSymbolProvider:Di,registerDocumentHighlightProvider:Ti,registerLinkedEditingRangeProvider:Ii,registerDefinitionProvider:Oi,registerImplementationProvider:Ni,registerTypeDefinitionProvider:Ri,registerCodeLensProvider:Pi,registerCodeActionProvider:Ai,registerDocumentFormattingEditProvider:Fi,registerDocumentRangeFormattingEditProvider:Hi,registerOnTypeFormattingEditProvider:Bi,registerLinkProvider:ji,registerColorProvider:Ki,registerFoldingRangeProvider:Wi,registerDeclarationProvider:qi,registerSelectionRangeProvider:$i,registerDocumentSemanticTokensProvider:Ui,registerDocumentRangeSemanticTokensProvider:Gi,registerInlineCompletionsProvider:Qi,DocumentHighlightKind:w["i"],CompletionItemKind:w["c"],CompletionItemTag:w["d"],CompletionItemInsertTextRule:w["b"],SymbolKind:w["D"],SymbolTag:w["E"],IndentAction:w["n"],CompletionTriggerKind:w["e"],SignatureHelpTriggerKind:w["C"],InlayHintKind:w["o"],InlineCompletionTriggerKind:w["p"],FoldingRangeKind:c["m"]}}var Yi=n("e8e3"),Ji=n("fdcc");n("bc04"),n("8025");n("dff7");var Xi,eo=n("60d7"),to=n("db88"),no=n("ef8e"),io=n("258a"),oo=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function ro(e){const t=[],n=new Set,i=c["g"].ordered(e);for(const r of i)t.push(r),r.extensionId&&n.add(eo["a"].toKey(r.extensionId));const o=c["i"].ordered(e);for(const r of o){if(r.extensionId){if(n.has(eo["a"].toKey(r.extensionId)))continue;n.add(eo["a"].toKey(r.extensionId))}t.push({displayName:r.displayName,extensionId:r.extensionId,provideDocumentFormattingEdits(e,t,n){return r.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)}})}return t}class so{static setFormatterSelector(e){const t=so._selectors.unshift(e);return{dispose:t}}static select(e,t,n){return oo(this,void 0,void 0,(function*(){if(0===e.length)return;const i=io["a"].first(so._selectors);return i?yield i(e,t,n):void 0}))}}function ao(e,t,n,i,o){return oo(this,void 0,void 0,(function*(){const r=c["i"].ordered(t);for(const s of r){let r=yield Promise.resolve(s.provideDocumentRangeFormattingEdits(t,n,i,o)).catch(Ji["f"]);if(Object(Yi["j"])(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}function lo(e,t,n,i){return oo(this,void 0,void 0,(function*(){const o=ro(t);for(const r of o){let o=yield Promise.resolve(r.provideDocumentFormattingEdits(t,n,i)).catch(Ji["f"]);if(Object(Yi["j"])(o))return yield e.computeMoreMinimalEdits(t.uri,o)}}))}function uo(e,t,n,i,o){const r=c["v"].ordered(t);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(t,n,i,o,mn["a"].None)).catch(Ji["f"]).then(n=>e.computeMoreMinimalEdits(t.uri,n))}so._selectors=new to["a"],fe["a"].registerCommand("_executeFormatRangeProvider",(function(e,...t){const[n,i,o]=t;Object(no["b"])(se["a"].isUri(n)),Object(no["b"])(he["a"].isIRange(i));const r=e.get(ge["a"]).getModel(n);if(!r)throw Object(Ji["b"])("resource");return ao(e.get(g["a"]),r,he["a"].lift(i),o,mn["a"].None)})),fe["a"].registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[n,i]=t;Object(no["b"])(se["a"].isUri(n));const o=e.get(ge["a"]).getModel(n);if(!o)throw Object(Ji["b"])("resource");return lo(e.get(g["a"]),o,i,mn["a"].None)})),fe["a"].registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[n,i,o,r]=t;Object(no["b"])(se["a"].isUri(n)),Object(no["b"])(ce["a"].isIPosition(i)),Object(no["b"])("string"===typeof o);const s=e.get(ge["a"]).getModel(n);if(!s)throw Object(Ji["b"])("resource");return uo(e.get(g["a"]),s,ce["a"].lift(i),o,r)})),i["g"].wrappingIndent.defaultValue=0,i["g"].glyphMargin.defaultValue=!1,i["g"].autoIndent.defaultValue=3,i["g"].overviewRulerLanes.defaultValue=2,so.setFormatterSelector((e,t,n)=>Promise.resolve(e[0]));const co=Object(o["a"])();co.editor=ei(),co.languages=Zi();co.CancellationTokenSource,co.Emitter;const ho=co.KeyCode,go=co.KeyMod,fo=(co.Position,co.Range,co.Selection,co.SelectionDirection,co.MarkerSeverity,co.MarkerTag,co.Uri,co.Token,co.editor),mo=co.languages;((null===(Xi=oe["b"].MonacoEnvironment)||void 0===Xi?void 0:Xi.globalAPI)||"function"===typeof define&&n("3c35"))&&(self.monaco=co),"undefined"!==typeof self.require&&"function"===typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},ff6c:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("308f"),o=n("4503"),r=n("b707");class s{constructor(){this._onDidChange=new i["a"],this.onDidChange=this._onDidChange.event,this._updateColorMap(),r["B"].onDidChange(e=>{e.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new s),this._INSTANCE}_updateColorMap(){const e=r["B"].getColorMap();if(!e)return this._colors=[o["a"].Empty],void(this._backgroundIsLight=!0);this._colors=[o["a"].Empty];for(let n=1;n<e.length;n++){const t=e[n].rgba;this._colors[n]=new o["a"](t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}s._INSTANCE=null}}]);