{"basePath":"/iotapi","consumes":["application/json"],"definitions":{"Action":{"properties":{"app":{"description":"插件","type":"string"},"description":{"description":"描述","type":"string"},"for":{"description":"触发事件","type":"string"},"name":{"description":"名称","type":"string"},"params":{"description":"参数","properties":{},"type":"object"},"title":{"description":"标题","type":"string"},"types":{"description":"类型","items":{"type":"string"},"type":"array"}},"type":"object"},"App":{"properties":{"config":{"properties":{"expires":{"description":"token过期时间,单位秒","type":"number"}},"type":"object"},"desc":{"description":"描述","type":"string"},"secret":{"description":"访问密钥","type":"string"}},"type":"object"},"Channel":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"cType":{"type":"string"},"config":{"type":"object"},"createdAt":{"type":"string"},"desc":{"type":"string"},"isEnable":{"type":"boolean"},"name":{"type":"string"},"objectId":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"Product","type":"string"}},"type":"object"},"status":{"type":"string"},"type":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"ClassLevel":{"properties":{"addField":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"*":true},"type":"object"},"create":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"role:RoleName":true},"type":"object"},"delete":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"aSaMpLeUsErId":true},"type":"object"},"find":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"role:RoleName":true},"type":"object"},"get":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"role:RoleName":true},"type":"object"},"update":{"description":" objectId role:RoleName 或 *(表示所有)","example":{"role:RoleName":true},"type":"object"}},"type":"object"},"Crond":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"active":{"type":"number"},"args":{"type":"object"},"createdAt":{"type":"string"},"crond":{"type":"object"},"name":{"type":"string"},"objectId":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Product","type":"string"},"objectId":{"type":"string"}},"type":"object"},"remark":{"type":"string"},"task":{"type":"object"},"tid":{"type":"number"},"type":{"type":"number"},"typedesc":{"type":"string"},"updatedAt":{"type":"string"},"visible":{"type":"number"}},"type":"object"},"Device":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"basedata":{"type":"object"},"createdAt":{"type":"string"},"detail":{"type":"object"},"devaddr":{"type":"string"},"ip":{"type":"string"},"isEnable":{"type":"boolean"},"lastOnlineTime":{"type":"number"},"location":{"type":"string"},"name":{"type":"string"},"objectId":{"type":"string"},"parentId":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Device","type":"string"},"objectId":{"type":"string"}},"type":"object"},"product":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Product","type":"string"},"objectId":{"type":"string"}},"type":"object"},"route":{"type":"object"},"status":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Dict":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"data":{"type":"object"},"key":{"type":"string"},"objectId":{"type":"string"},"type":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Error":{"properties":{"code":{"description":"状态码","type":"number"},"error":{"description":"错误提示","type":"string"}},"type":"object"},"Evidence":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"objectId":{"type":"string"},"original":{"type":"object"},"reportId":{"type":"string"},"scene":{"type":"string"},"signData":{"type":"string"},"timestamp":{"type":"number"},"ukey":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Instruct":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"device":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Device","type":"string"},"objectId":{"type":"string"}},"type":"object"},"di":{"type":"string"},"duration":{"type":"number"},"enable":{"type":"boolean"},"interval":{"type":"number"},"name":{"type":"string"},"objectId":{"type":"string"},"op":{"type":"string"},"order":{"type":"string"},"other":{"type":"object"},"pn":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Product","type":"string"},"objectId":{"type":"string"}},"type":"object"},"rotation":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"License":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"app":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"App","type":"string"},"objectId":{"type":"string"}},"type":"object"},"appname":{"type":"string"},"core":{"type":"string"},"createdAt":{"type":"string"},"customer_name":{"type":"string"},"detail":{"type":"object"},"disk":{"type":"string"},"is_online":{"type":"boolean"},"key":{"type":"string"},"license":{"type":"string"},"mac":{"type":"string"},"objectId":{"type":"string"},"private_ip":{"type":"string"},"product":{"type":"object"},"public_ip":{"type":"string"},"software":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Menu":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"icon":{"type":"string"},"meta":{"type":"object"},"name":{"type":"string"},"objectId":{"type":"string"},"orderBy":{"type":"number"},"parent":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Menu","type":"string"},"objectId":{"type":"string"}},"type":"object"},"updatedAt":{"type":"string"},"url":{"type":"string"}},"type":"object"},"Notification":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"content":{"type":"string"},"createdAt":{"type":"string"},"deletedBy":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"_User","type":"string"}},"type":"object"},"objectId":{"type":"string"},"public":{"type":"boolean"},"readBy":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"_User","type":"string"}},"type":"object"},"sender":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"_User","type":"string"},"objectId":{"type":"string"}},"type":"object"},"type":{"type":"string"},"updatedAt":{"type":"string"},"user":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"_User","type":"string"},"objectId":{"type":"string"}},"type":"object"}},"type":"object"},"Permission":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"alias":{"type":"string"},"createdAt":{"type":"string"},"description":{"type":"string"},"name":{"type":"string"},"objectId":{"type":"string"},"parent":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Permission","type":"string"},"objectId":{"type":"string"}},"type":"object"},"tags":{"items":{},"type":"array"},"updatedAt":{"type":"string"}},"type":"object"},"Product":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"category":{"type":"string"},"children":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"Product","type":"string"}},"type":"object"},"config":{"type":"object"},"createdAt":{"type":"string"},"decoder":{"type":"object"},"desc":{"type":"string"},"devType":{"type":"string"},"dynamicReg":{"type":"boolean"},"icon":{"type":"string"},"name":{"type":"string"},"netType":{"type":"string"},"nodeType":{"type":"number"},"objectId":{"type":"string"},"productIdentifier":{"type":"string"},"productSecret":{"type":"string"},"serverCallbackModel":{"items":{},"type":"array"},"thing":{"type":"object"},"topics":{"items":{},"type":"array"},"updatedAt":{"type":"string"}},"type":"object"},"Project":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"app":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"App","type":"string"}},"type":"object"},"background":{"type":"string"},"category":{"type":"string"},"config":{"type":"object"},"copyright":{"type":"string"},"createdAt":{"type":"string"},"dashboard":{"type":"string"},"default":{"type":"boolean"},"desc":{"type":"string"},"domain":{"type":"string"},"enable":{"type":"boolean"},"logo":{"type":"string"},"objectId":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"Product","type":"string"}},"type":"object"},"productIdentifier":{"type":"string"},"scale":{"type":"number"},"title":{"type":"string"},"updatedAt":{"type":"string"},"user":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"_User","type":"string"},"objectId":{"type":"string"}},"type":"object"},"userUnit":{"type":"string"}},"type":"object"},"Resource":{"properties":{"config":{"description":"配置","type":"object"},"description":{"description":"描述","type":"string"},"id":{"description":"资源ID","type":"string"},"type":{"description":"类型","type":"string"}},"type":"object"},"Rule":{"properties":{"actions":{"items":{"properties":{"name":{"type":"string"},"params":{"properties":{"$resource":{"description":"$resource","type":"string"}},"type":"object"}},"type":"object"},"type":"array"},"ctx":{"properties":{"clientid":{"description":"clientid","type":"string"},"payload":{"description":"payload","type":"string"},"qos":{"description":"qos","type":"number"},"topic":{"description":"topic","type":"number"},"username":{"description":"username","type":"number"}},"type":"object"},"description":{"description":"description","type":"string"},"for":{"description":"触发来源","type":"string"},"name":{"description":"规则名称","type":"string"},"rawsql":{"description":"rawsql","type":"string"}},"type":"object"},"Swagger":{"properties":{"definitions":{"description":"Models","type":"object"},"paths":{"description":"路径","type":"object"}},"type":"object"},"Tag":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"address":{"type":"string"},"assetNum":{"type":"string"},"batchId":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Dict","type":"string"},"objectId":{"type":"string"}},"type":"object"},"brand":{"type":"string"},"createdAt":{"type":"string"},"desc":{"type":"string"},"devModel":{"type":"string"},"icon":{"type":"string"},"location":{"type":"string"},"objectId":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Test":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"i":{"type":"number"},"objectId":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"Timescale":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"device":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Device","type":"string"},"objectId":{"type":"string"}},"type":"object"},"objectId":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Product","type":"string"},"objectId":{"type":"string"}},"type":"object"},"tags":{"type":"object"},"updatedAt":{"type":"string"},"values":{"type":"object"}},"type":"object"},"Token":{"properties":{"appid":{"description":"app secret","example":"gEsTiaPAjv","type":"string"},"secret":{"description":"app secret","example":"VzY0Mjc5NDQxNTg1ODI4NDk1MzYx","type":"string"}},"type":"object"},"View":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"config":{"type":"object"},"createdAt":{"type":"string"},"device":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Device","type":"string"},"objectId":{"type":"string"}},"type":"object"},"objectId":{"type":"string"},"product":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"Product","type":"string"},"objectId":{"type":"string"}},"type":"object"},"title":{"type":"string"},"type":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"_Installation":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"GCMSenderId":{"type":"string"},"appIdentifier":{"type":"string"},"appName":{"type":"string"},"appVersion":{"type":"string"},"badge":{"type":"number"},"channels":{"items":{},"type":"array"},"createdAt":{"type":"string"},"deviceToken":{"type":"string"},"deviceType":{"type":"string"},"installationId":{"type":"string"},"localeIdentifier":{"type":"string"},"objectId":{"type":"string"},"parseVersion":{"type":"string"},"pushType":{"type":"string"},"timeZone":{"type":"string"},"updatedAt":{"type":"string"}},"type":"object"},"_Role":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"alias":{"type":"string"},"createdAt":{"type":"string"},"depname":{"type":"string"},"desc":{"type":"string"},"leafnode":{"type":"boolean"},"level":{"type":"number"},"menus":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"Menu","type":"string"}},"type":"object"},"name":{"type":"string"},"objectId":{"type":"string"},"order":{"type":"number"},"org_type":{"type":"string"},"parent":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"_Role","type":"string"},"objectId":{"type":"string"}},"type":"object"},"roles":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"_Role","type":"string"}},"type":"object"},"rules":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"Permission","type":"string"}},"type":"object"},"tag":{"type":"object"},"updatedAt":{"type":"string"},"users":{"description":"","properties":{"__type":{"example":"Relation","type":"string"},"className":{"example":"_User","type":"string"}},"type":"object"}},"type":"object"},"_Session":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"createdAt":{"type":"string"},"createdWith":{"type":"object"},"expiresAt":{"type":"string"},"installationId":{"type":"string"},"objectId":{"type":"string"},"restricted":{"type":"boolean"},"sessionToken":{"type":"string"},"updatedAt":{"type":"string"},"user":{"description":"","properties":{"__type":{"example":"Pointer","type":"string"},"className":{"example":"_User","type":"string"},"objectId":{"type":"string"}},"type":"object"}},"type":"object"},"_User":{"properties":{"ACL":{"example":{"*":{"read":true,"write":false}},"properties":{},"type":"object"},"authData":{"type":"object"},"createdAt":{"type":"string"},"department":{"type":"string"},"email":{"type":"string"},"emailVerified":{"type":"boolean"},"nick":{"type":"string"},"objectId":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"tag":{"type":"object"},"updatedAt":{"type":"string"},"username":{"type":"string"}},"type":"object"}},"externalDocs":{"description":"在线文档","url":"http://www.iotn2n.com/doc/"},"info":{"contact":{"email":"service@iotn2n.com","name":"技术支持"},"description":"数蛙物联网平台API接口, 高并发全连接物联网平台,支持私有云部署的全开放的IoT产品全生命周期管理平台","termsOfService":"http://www.iotn2n.com","title":"数蛙IOT API","version":"1.4.1"},"paths":{"/classes/Product":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_product"},"operationId":"get_classes_product","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回产品记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Product"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询产品","tags":["Product"]},"post":{"description":"新增一条产品记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_product"},"operationId":"post_classes_product","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Product"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增产品","tags":["Product"]}},"/classes/_User":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_user"},"operationId":"get_classes_user","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回用户记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/_User"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询用户","tags":["_User"]},"post":{"description":"新增一条用户记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_user"},"operationId":"post_classes_user","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_User"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增用户","tags":["_User"]}},"/level/_Installation":{"put":{"description":"设置部署表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_installation"},"operationId":"put_level_installation","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置部署表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置部署表级别","tags":["_Installation"]}},"/report":{"get":{"description":"导出取证报告压缩包","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_report"},"operationId":"get_report","parameters":[{"default":"CME8XE2gyr","description":"报告设备号","in":"query","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"导出取证报告压缩包","tags":["Evidence"]},"post":{"description":"新增取证报告","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_report"},"operationId":"post_report","parameters":[{"description":"新增取证报告","in":"body","name":"data","required":true,"schema":{"properties":{"basedata":{"description":"报告描述信息","example":{"identifier":"a28b138a-0f31-fe7d-cadc-0be47faf8a8d","name":"image0"},"type":"object"},"devType":{"description":"报告产品类型","example":"shuwa_pump_report","type":"string"},"name":{"description":"取证报告名称","example":"离心泵取证报告","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增取证报告","tags":["Evidence"]},"put":{"description":"导入取证报告压缩包","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_report"},"operationId":"put_report","parameters":[{"description":"导入文件信息","in":"body","name":"data","required":true,"schema":{"properties":{"path":{"description":"文件路径","example":"/shapes/利欧泵业测试部/5a27bcd88f.zip","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"导入取证报告压缩包","tags":["Evidence"]}},"/resource_types":{"get":{"description":"获取资源类型列表","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_resource_types"},"operationId":"get_resource_types","parameters":[],"responses":{"200":{"description":"Returns operation status","schema":{"items":{"properties":{"description":{"description":"描述","type":"string"},"name":{"description":"名称","type":"string"},"params":{"description":"参数","properties":{},"type":"object"},"provider":{"description":"provider","type":"string"},"title":{"description":"标题","type":"string"}},"type":"object"},"type":"array"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取资源类型列表","tags":["Rule"]}},"/classes/Device":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_device"},"operationId":"get_classes_device","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回设备记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Device"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询设备","tags":["Device"]},"post":{"description":"新增一条设备记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_device"},"operationId":"post_classes_device","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Device"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增设备","tags":["Device"]}},"/classes/_Role/{id}":{"delete":{"description":"通过ID删除角色记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_role_id"},"operationId":"delete_classes_role_id","parameters":[{"description":"删除角色的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除角色","tags":["_Role"]},"get":{"description":"根据ID获取角色详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_role_id"},"operationId":"get_classes_role_id","parameters":[{"description":"角色的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回角色数据","schema":{"$ref":"#/definitions/_Role"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取角色详情","tags":["_Role"]},"put":{"description":"通过ID更新角色","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_role_id"},"operationId":"put_classes_role_id","parameters":[{"description":"更新角色的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Role"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新角色","tags":["_Role"]}},"/health":{"get":{"consumes":["*"],"description":"检测是启动","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_health"},"operationId":"get_health","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"health","tags":["License"]}},"/level/Evidence":{"put":{"description":"设置证据表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_evidence"},"operationId":"put_level_evidence","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置证据表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置证据表级别","tags":["Evidence"]}},"/hardinfo":{"get":{"description":"获取硬件key","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_hardinfo"},"operationId":"get_hardinfo","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取硬件key","tags":["License"]}},"/classes/View/{id}":{"delete":{"description":"通过ID删除视图记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_view_id"},"operationId":"delete_classes_view_id","parameters":[{"description":"删除视图的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除视图","tags":["View"]},"get":{"description":"根据ID获取视图详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_view_id"},"operationId":"get_classes_view_id","parameters":[{"description":"视图的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回视图数据","schema":{"$ref":"#/definitions/View"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取视图详情","tags":["View"]},"put":{"description":"通过ID更新视图","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_view_id"},"operationId":"put_classes_view_id","parameters":[{"description":"更新视图的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/View"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新视图","tags":["View"]}},"/classes/Crond":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_crond"},"operationId":"get_classes_crond","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回任务记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Crond"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询任务","tags":["Crond"]},"post":{"description":"新增一条任务记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_crond"},"operationId":"post_classes_crond","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Crond"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增任务","tags":["Crond"]}},"/schema/Channel":{"get":{"description":"获取通道表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_channel"},"operationId":"get_schema_channel","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取通道表的权限级别和结构","tags":["Channel"]}},"/classes/Instruct/{id}":{"delete":{"description":"通过ID删除指令记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_instruct_id"},"operationId":"delete_classes_instruct_id","parameters":[{"description":"删除指令的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除指令","tags":["Instruct"]},"get":{"description":"根据ID获取指令详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_instruct_id"},"operationId":"get_classes_instruct_id","parameters":[{"description":"指令的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回指令数据","schema":{"$ref":"#/definitions/Instruct"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取指令详情","tags":["Instruct"]},"put":{"description":"通过ID更新指令","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_instruct_id"},"operationId":"put_classes_instruct_id","parameters":[{"description":"更新指令的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Instruct"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新指令","tags":["Instruct"]}},"/licsetup":{"get":{"consumes":["*"],"description":"下载安装脚本","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_licsetup"},"operationId":"get_licsetup","parameters":[{"default":"fc2400836d1071f26c7f7e0ebeae3b43","description":"license","in":"query","name":"license","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"离线安装","tags":["License"]}},"/schema/App":{"get":{"description":"获取应用表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_app"},"operationId":"get_schema_app","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取应用表的权限级别和结构","tags":["App"]}},"/task/{vcaddr}":{"delete":{"description":"停止任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_task_vcaddr"},"operationId":"delete_task_vcaddr","parameters":[{"default":"28a68a908d8c","description":"台体地址","in":"path","name":"vcaddr","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"停止任务","tags":["Crond"]}},"/pump_reporttemp":{"post":{"description":"新增水泵测试报告模版","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_pump_reporttemp"},"operationId":"post_pump_reporttemp","parameters":[{"description":"新增报告模版","in":"body","name":"data","required":true,"schema":{"properties":{"config":{"description":"默认值 {\"client\":\"离心泵\",\"identifier\":\"a28b138a-0f31-fe7d-cadc-0be47faf8a8d\"}","example":"{\"client\":\"离心泵\",\"identifier\":\"a28b138a-0f31-fe7d-cadc-0be47faf8a8d\"}","type":"object"},"name":{"description":"报告模板名称","example":"南方泵业","required":true,"type":"string"},"type":{"description":"报告类型","example":"潜水泵","required":true,"type":"string"},"word":{"description":"word访问地址","example":"http%3A%2F%2Fpump.iotn2n.com%3A8012%2Fkkfileview%2Fdemo%2F___20201209191602.doc","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增水泵测试报告模版","tags":["Pump"]}},"/schema/_Installation":{"get":{"description":"获取部署表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_installation"},"operationId":"get_schema_installation","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取部署表的权限级别和结构","tags":["_Installation"]}},"/log/level":{"get":{"description":"获取日志配置","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_log_level"},"operationId":"get_log_level","parameters":[{"description":"日志模块","in":"query","name":"Handle","required":true,"type":"string"},{"description":"日志级别","in":"query","name":"level","required":true,"type":"string"}],"responses":{"201":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取日志配置","tags":["System"]},"put":{"description":"更新日志配置","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_log_level"},"operationId":"put_log_level","parameters":[{"description":"日志模块","in":"query","name":"Handle","required":true,"type":"string"},{"description":"日志级别","in":"query","name":"level","required":true,"type":"string"}],"responses":{"201":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"更新日志配置","tags":["System"]}},"/exproto":{"delete":{"description":"下架拓展编程API","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_exproto"},"operationId":"delete_exproto","parameters":[{"description":"编程语言类型","enum":["python","java","ruby"],"in":"query","name":"type","required":true,"type":"string"},{"default":"hello","description":"模块名称","in":"query","name":"mod","required":true,"type":"string"},{"description":"版本","enum":["debug","release","all"],"in":"query","name":"version","required":true,"type":"string"}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"下架拓展编程API","tags":["EXPROTO"]},"get":{"description":"获取扩展编程API列表","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_exproto"},"operationId":"get_exproto","parameters":[{"description":"编程语言类型","enum":["python","java","ruby"],"in":"query","name":"type","required":true,"type":"string"},{"default":"all","description":"模块名称","in":"query","name":"mod","type":"string"},{"default":"debug","description":"版本","enum":["debug","release","all"],"in":"query","name":"version","type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取拓展编程API列表","tags":["EXPROTO"]},"post":{"description":"新增拓展编程API","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_exproto"},"operationId":"post_exproto","parameters":[{"description":"API信息","in":"body","name":"data","required":true,"schema":{"properties":{"code":{"description":"base64编码的源码","example":"IyBjb2Rpbmc9dXRmOAppbXBvcnQgb3MKCmRlZiBwb3N0KGFyZ3Msc2Vzc2lvbixlbnYpOgogICAgI2JvZHkgPSBqc29uLmxvYWRzKGJhc2U2NC5iNjRkZWNvZGUoYXJncykuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KGJvZHkpCiAgICAjc3RyYm9keSA9ICd7fScuZm9ybWF0KGJvZHkpCiAgICAjZW5ib2R5ID0gIGJhc2U2NC5iNjRlbmNvZGUoc3RyYm9keS5lbmNvZGUoJ3V0Zi04JykpCiAgICAjcHJpbnQoZW5ib2R5KQogICAgI3N0YXRlID0ganNvbi5sb2FkcyhiYXNlNjQuYjY0ZGVjb2RlKGVudikuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KHN0YXRlKQogICAgIyByZXN0dXJsID0gc3RhdGVbJ3JvbGVzJ11bMF1bJ3RhZyddWydhcHBjb25maWcnXVsncmVzdCddCiAgICAjIHByaW50KHJlc3R1cmwpCiAgICAjIHMuaGVhZGVycy51cGRhdGUoeyJzZXNzaW9uVG9rZW4iOiBzZXNzaW9uLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSkKICAgICMgcnQgPSBzLmdldCgne30vY2xhc3Nlcy9EZXZpY2U/b3JkZXI9Y3JlYXRlZEF0JmxpbWl0PTEwJnNraXA9MCcuZm9ybWF0KHJlc3R1cmwpLAogICAgIyAgICAgICAgICAgICAgcGFyYW1zPXsnb3JkZXInOiAnY3JlYXRlZEF0JywgfSkKICAgICMgZm9yIHJvdyBpbiAocnQuanNvbigpWydyZXN1bHRzJ10pOgogICAgIyAgICAgcHJpbnQocm93KQogICAgcHJpbnQoYXJncykKICAgIHByaW50KHNlc3Npb24pCiAgICBwcmludChlbnYpCiAgICByZXR1cm4gYXJncwoKZGVmIG1haW4oKToKICAgICN7Im5hbWUiOiJzaHV3YSJ9CiAgICBhcmd2cyA9ICdleUp1WVcxbElqb2ljMmgxZDJFaWZRPT0nCiAgICByZXR1cm4gIHBvc3QoYXJndnMsICdzZXNzaW9uJywnZW52JykKCmRlZiBleGl0KCk6CiAgICBvcy5fZXhpdCgwKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQ==","type":"string"},"mod":{"description":"模块名称","example":"hello","type":"string"},"swagger":{"description":"swagger文件","example":{"definitions":{},"paths":{"/python_hello":{"post":{"description":"Python测试API","parameters":[{"description":"生成报告","in":"body","name":"data","required":true,"schema":{"properties":{"name":{"description":"姓名","example":"shuwa","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"Python测试API","tags":["EXPROTO"]}}},"tags":[{"description":"扩展编程","name":"EXPROTO"}]},"type":"object"},"type":{"description":"编程语言类型","enum":["python","java","ruby"],"type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增拓展编程API","tags":["EXPROTO"]},"put":{"description":"调测拓展编程API","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_exproto"},"operationId":"put_exproto","parameters":[{"description":"API信息","in":"body","name":"data","required":true,"schema":{"properties":{"code":{"description":"base64编码的源码","example":"IyBjb2Rpbmc9dXRmOAppbXBvcnQgb3MKCmRlZiBwb3N0KGFyZ3Msc2Vzc2lvbixlbnYpOgogICAgI2JvZHkgPSBqc29uLmxvYWRzKGJhc2U2NC5iNjRkZWNvZGUoYXJncykuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KGJvZHkpCiAgICAjc3RyYm9keSA9ICd7fScuZm9ybWF0KGJvZHkpCiAgICAjZW5ib2R5ID0gIGJhc2U2NC5iNjRlbmNvZGUoc3RyYm9keS5lbmNvZGUoJ3V0Zi04JykpCiAgICAjcHJpbnQoZW5ib2R5KQogICAgI3N0YXRlID0ganNvbi5sb2FkcyhiYXNlNjQuYjY0ZGVjb2RlKGVudikuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KHN0YXRlKQogICAgIyByZXN0dXJsID0gc3RhdGVbJ3JvbGVzJ11bMF1bJ3RhZyddWydhcHBjb25maWcnXVsncmVzdCddCiAgICAjIHByaW50KHJlc3R1cmwpCiAgICAjIHMuaGVhZGVycy51cGRhdGUoeyJzZXNzaW9uVG9rZW4iOiBzZXNzaW9uLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSkKICAgICMgcnQgPSBzLmdldCgne30vY2xhc3Nlcy9EZXZpY2U/b3JkZXI9Y3JlYXRlZEF0JmxpbWl0PTEwJnNraXA9MCcuZm9ybWF0KHJlc3R1cmwpLAogICAgIyAgICAgICAgICAgICAgcGFyYW1zPXsnb3JkZXInOiAnY3JlYXRlZEF0JywgfSkKICAgICMgZm9yIHJvdyBpbiAocnQuanNvbigpWydyZXN1bHRzJ10pOgogICAgIyAgICAgcHJpbnQocm93KQogICAgcHJpbnQoYXJncykKICAgIHByaW50KHNlc3Npb24pCiAgICBwcmludChlbnYpCiAgICByZXR1cm4gYXJncwoKZGVmIG1haW4oKToKICAgICN7Im5hbWUiOiJzaHV3YSJ9CiAgICBhcmd2cyA9ICdleUp1WVcxbElqb2ljMmgxZDJFaWZRPT0nCiAgICByZXR1cm4gIHBvc3QoYXJndnMsICdzZXNzaW9uJywnZW52JykKCmRlZiBleGl0KCk6CiAgICBvcy5fZXhpdCgwKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQ==","type":"string"},"mod":{"description":"模块名称","example":"hello","type":"string"},"swagger":{"description":"swagger文件","example":{"definitions":{},"paths":{"/python_hello":{"post":{"description":"Python测试API","parameters":[{"description":"生成报告","in":"body","name":"data","required":true,"schema":{"properties":{"name":{"description":"姓名","example":"shuwa","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"Python测试API","tags":["EXPROTO"]}}},"tags":[{"description":"扩展编程","name":"EXPROTO"}]},"type":"object"},"type":{"description":"编程语言类型","enum":["python","java","ruby"],"type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"调测拓展编程API","tags":["EXPROTO"]}},"/dev/{addr}":{"get":{"description":"设备查询","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_dev_addr"},"operationId":"get_dev_addr","parameters":[{"description":"设备地址","in":"path","name":"addr","required":true,"type":"string"},{"description":"设备类型","in":"query","name":"productId","required":true,"type":"string"}],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取设备当前状态","tags":["Device"]}},"/classes/Site/{Id}":{"get":{"consumes":["*"],"description":"获取应用信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_site_id"},"operationId":"get_classes_site_id","parameters":[{"description":"应用标识","in":"path","name":"Id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取应用信息","tags":["Project"]}},"/group/{id}":{"get":{"description":"获取组信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_group_id"},"operationId":"get_group_id","parameters":[{"description":"组地址","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取组信息","tags":["Group"]}},"/roleuser":{"delete":{"description":"删除用户权限","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_roleuser"},"operationId":"delete_roleuser","parameters":[{"default":"tnFJKWVOGY","description":"用户id","in":"query","name":"userid","type":"string"},{"default":"{\"where\":{\"name\":\"test\"}}","description":"过滤条件，eg: {\"where\":{\"name\":\"test\"}}","in":"query","name":"filter","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除用户权限","tags":["_Role"]},"get":{"description":"查询用户权限","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_roleuser"},"operationId":"get_roleuser","parameters":[{"default":"{}","description":"过滤条件，eg: {}","in":"query","name":"where","type":"string"},{"default":1,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","type":"number"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"查询用户权限","tags":["_Role"]},"post":{"description":"新增用户权限","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_roleuser"},"operationId":"post_roleuser","parameters":[{"description":"角色信息","in":"body","name":"data","required":true,"schema":{"properties":{"filter":{"description":"过滤条件，eg: {\"where\":{\"name\":\"test\"}}","example":{"where":{"name":"test"}},"type":"object"},"userid":{"description":"用户id","example":"tnFJKWVOGY","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增用户权限","tags":["_Role"]},"put":{"description":"修改用户权限","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_roleuser"},"operationId":"put_roleuser","parameters":[{"description":"角色信息","in":"body","name":"data","required":true,"schema":{"properties":{"addfilter":{"description":"新增角色用户条件","example":{"where":{"name":"test2"}},"type":"object"},"delfilter":{"description":"删除角色用户条件","example":{"where":{"name":"test"}},"type":"object"},"userid":{"description":"用户id","example":"6H7kpYpIin","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改用户权限","tags":["_Role"]}},"/level/View":{"put":{"description":"设置视图表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_view"},"operationId":"put_level_view","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置视图表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置视图表级别","tags":["View"]}},"/hash/{class}":{"post":{"description":"查询类对象objectid","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_hash_class"},"operationId":"post_hash_class","parameters":[{"default":"Device","description":"类名","in":"path","name":"class","required":true,"type":"string"},{"description":"配置","in":"body","name":"config","required":true,"schema":{}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取类对象hash值","tags":["Data"]}},"/schema/Instruct":{"get":{"description":"获取指令表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_instruct"},"operationId":"get_schema_instruct","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取指令表的权限级别和结构","tags":["Instruct"]}},"/level/Notification":{"put":{"description":"设置通知表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_notification"},"operationId":"put_level_notification","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置通知表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置通知表级别","tags":["Notification"]}},"/classes/Evidence/{id}":{"delete":{"description":"通过ID删除证据记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_evidence_id"},"operationId":"delete_classes_evidence_id","parameters":[{"description":"删除证据的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除证据","tags":["Evidence"]},"get":{"description":"根据ID获取证据详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_evidence_id"},"operationId":"get_classes_evidence_id","parameters":[{"description":"证据的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回证据数据","schema":{"$ref":"#/definitions/Evidence"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取证据详情","tags":["Evidence"]},"put":{"description":"通过ID更新证据","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_evidence_id"},"operationId":"put_classes_evidence_id","parameters":[{"description":"更新证据的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Evidence"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新证据","tags":["Evidence"]}},"/dashboard":{"post":{"description":"启动任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_dashboard"},"operationId":"post_dashboard","parameters":[{"in":"body","name":"data","required":true,"schema":{"properties":{},"type":"object"}}],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"启动任务","tags":["TOPO"]}},"/classes/App":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_app"},"operationId":"get_classes_app","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回应用记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/App"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询应用","tags":["App"]},"post":{"description":"新增一条应用记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_app"},"operationId":"post_classes_app","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/App"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增应用","tags":["App"]}},"/user":{"delete":{"description":"员工离职","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_user"},"operationId":"delete_user","parameters":[{"description":"用户信息","in":"body","name":"user","required":true,"schema":{"properties":{"department":{"description":"部门ID","example":"IjOCg0BC0I","type":"string"},"username":{"description":"用户名","example":"shuwa_user","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"员工离职","tags":["_User"]},"post":{"description":"新增用户","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_user"},"operationId":"post_user","parameters":[{"description":"用户信息","in":"body","name":"user","required":true,"schema":{"properties":{"department":{"description":"手机号","example":"IjOCg0BC0I","type":"string"},"password":{"description":"用户密码","example":"shuwa_pwd","type":"string"},"phone":{"description":"手机号","example":"15268887220","type":"string"},"username":{"description":"用户名","example":"shuwa_user","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"nick":{"description":"昵称","type":"string"},"objectId":{"description":"用户ID","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"员工入职","tags":["_User"]},"put":{"description":"员工转岗","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_user"},"operationId":"put_user","parameters":[{"description":"用户信息","in":"body","name":"user","required":true,"schema":{"properties":{"department":{"description":"部门ID","example":"IjOCg0BC0I","type":"string"},"username":{"description":"用户名","example":"shuwa_user","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"员工转岗","tags":["_User"]}},"/classes/_Session/{id}":{"delete":{"description":"通过ID删除会话记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_session_id"},"operationId":"delete_classes_session_id","parameters":[{"description":"删除会话的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除会话","tags":["_Session"]},"get":{"description":"根据ID获取会话详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_session_id"},"operationId":"get_classes_session_id","parameters":[{"description":"会话的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回会话数据","schema":{"$ref":"#/definitions/_Session"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取会话详情","tags":["_Session"]},"put":{"description":"通过ID更新会话","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_session_id"},"operationId":"put_classes_session_id","parameters":[{"description":"更新会话的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Session"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新会话","tags":["_Session"]}},"/classes/Menu/{id}":{"delete":{"description":"通过ID删除菜单记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_menu_id"},"operationId":"delete_classes_menu_id","parameters":[{"description":"删除菜单的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除菜单","tags":["Menu"]},"get":{"description":"根据ID获取菜单详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_menu_id"},"operationId":"get_classes_menu_id","parameters":[{"description":"菜单的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回菜单数据","schema":{"$ref":"#/definitions/Menu"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取菜单详情","tags":["Menu"]},"put":{"description":"通过ID更新菜单","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_menu_id"},"operationId":"put_classes_menu_id","parameters":[{"description":"更新菜单的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Menu"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新菜单","tags":["Menu"]}},"/schema/Project":{"get":{"description":"获取项目表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_project"},"operationId":"get_schema_project","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取项目表的权限级别和结构","tags":["Project"]}},"/level/Test":{"put":{"description":"设置Test表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_test"},"operationId":"put_level_test","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置Test表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置Test表级别","tags":["Test"]}},"/classes/Channel":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_channel"},"operationId":"get_classes_channel","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回通道记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Channel"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询通道","tags":["Channel"]},"post":{"description":"新增一条通道记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_channel"},"operationId":"post_classes_channel","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Channel"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增通道","tags":["Channel"]}},"/compile":{"post":{"description":"在线编译代码","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_compile"},"operationId":"post_compile","parameters":[{"description":"在线编译代码","in":"body","name":"body","required":true,"schema":{"properties":{"code":{"description":"代码","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"编译代码","tags":["System"]}},"/export_file":{"post":{"description":"文件导出","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_export_file"},"operationId":"post_export_file","parameters":[{"description":"文件列表","in":"body","name":"data","schema":{"properties":{"files":{"description":"文件列表","example":["/shapes/利欧泵业测试部/6.png","/shapes/利欧泵业测试部/1.png","/shapes/利欧泵业测试部/GBT 3216-2016 回转动力泵 水力性能验收试验 1、2级和3级.pdf"],"type":"array"}},"type":"object"}}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"file":{"description":"下载地址","example":"http://127.0.0.1:1250/shapes/upload/app/1.png","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"文件导出","tags":["Data"]}},"/level/Crond":{"put":{"description":"设置任务表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_crond"},"operationId":"put_level_crond","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置任务表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置任务表级别","tags":["Crond"]}},"/generate_api/{type}":{"post":{"description":"根据swagger产生API代码","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_generate_api_type"},"operationId":"post_generate_api_type","parameters":[{"description":"编译出对应的代码模块","enum":["erlang"],"in":"path","name":"type","required":true,"type":"string"},{"description":"模块名","in":"query","name":"mod","required":true,"type":"string"},{"description":"swagger描述","in":"body","name":"swagger","required":true,"schema":{"$ref":"#/definitions/Swagger"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"根据swagger产生API代码","tags":["System"]}},"/schema/Crond":{"get":{"description":"获取任务表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_crond"},"operationId":"get_schema_crond","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取任务表的权限级别和结构","tags":["Crond"]}},"/login":{"post":{"consumes":["text/plain"],"description":"用户登录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_login"},"operationId":"post_login","parameters":[{"in":"body","name":"user","required":true,"schema":{"properties":{"password":{"example":"password","required":true,"type":"string"},"username":{"example":"username","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"404":{"description":"Forbidden","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"security":[],"summary":"用户登录","tags":["License"]}},"/show_tables":{"get":{"consumes":["*"],"description":"查询表名信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_show_tables"},"operationId":"get_show_tables","parameters":[{"default":"%xssd20200722%","description":"过滤条件，eg: '%xssd20200722%'","in":"query","name":"filter","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"查询表名信息","tags":["DBA"]}},"/group":{"delete":{"description":"删除分组","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_group"},"operationId":"delete_group","parameters":[{"description":"关联信息","in":"body","name":"data","required":true,"schema":{"properties":{"devType":{"description":"组类型","example":"shuwa_iot_group","type":"string"},"name":{"description":"组名","example":"分组名","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除分组","tags":["Group"]},"post":{"description":"创建分组","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_group"},"operationId":"post_group","parameters":[{"description":"创建分组,自动创建虚拟组设备，无物模型","in":"body","name":"group","required":true,"schema":{"properties":{"devType":{"description":"设备类型","example":"shuwa_iot_hub","type":"string"},"name":{"description":"组名","example":"分组名","type":"string"},"topo":{"description":"组态文件名","example":"group_topo","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"创建分组","tags":["Group"]},"put":{"description":"关联组态控件与物模型","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_group"},"operationId":"put_group","parameters":[{"description":"关联组态与物模型","in":"body","name":"thing","required":true,"schema":{"properties":{"thing":{"description":"物模型关联字段","example":{"subdevid":"5b1bc4cf52","subprodid":"9c5930e565","thingid":"ipjnGiLSt7"},"type":"object"},"topo":{"description":"组态控件关联字段","example":{"productid":"JVANH8bf5n","topoid":"330980"},"type":"object"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"关联组态与物模型","tags":["Group"]}},"/users/{id}":{"get":{"description":"获取用户信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_users_id"},"operationId":"get_users_id","parameters":[{"description":"获取用户信息","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns success","schema":{"$ref":"#/definitions/_User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取用户信息","tags":["_User"]}},"/license":{"get":{"description":"获取license","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_license"},"operationId":"get_license","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取license","tags":["License"]}},"/graphql":{"post":{"description":"graphql","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_graphql"},"operationId":"post_graphql","parameters":[{"in":"body","name":"graphql","required":true,"schema":{"properties":{},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"graphql","tags":["Data"]}},"/level/Menu":{"put":{"description":"设置菜单表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_menu"},"operationId":"put_level_menu","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置菜单表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置菜单表级别","tags":["Menu"]}},"/cluster":{"post":{"description":"加入,退出集群","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_cluster"},"operationId":"post_cluster","parameters":[{"description":"操作类型","enum":["join","leave"],"in":"query","name":"action","required":true,"type":"string"},{"description":"相关参数","in":"body","name":"body","required":true,"schema":{"properties":{"node":{"description":"节点名称","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"集群操作","tags":["System"]}},"/level/Product":{"put":{"description":"设置产品表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_product"},"operationId":"put_level_product","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置产品表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置产品表级别","tags":["Product"]}},"/level/App":{"put":{"description":"设置应用表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_app"},"operationId":"put_level_app","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置应用表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置应用表级别","tags":["App"]}},"/chart/{version}":{"get":{"description":"调用Grafanfa查询曲线","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_chart_version"},"operationId":"get_chart_version","parameters":[{"description":"版本号,默认为v1","in":"path","name":"version","required":true,"type":"string"},{"description":"查询语句","in":"query","name":"query","required":true,"type":"string"},{"description":"开始时间","in":"query","name":"start","required":true,"type":"number"},{"description":"结束时间","in":"query","name":"end","required":true,"type":"number"},{"description":"步长,单位秒","in":"query","name":"step","required":true,"type":"number"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"data":{"properties":{"result":{"items":{"type":"string"},"type":"array"},"resultType":{"type":"string"}},"type":"object"},"status":{"type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"统计获取","tags":["System"]}},"/export_data":{"post":{"description":"档案导出","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_export_data"},"operationId":"post_export_data","parameters":[{"default":"Device","description":"表名","in":"query","name":"classname","required":true,"type":"string"},{"description":"过来条件","in":"body","name":"filter","schema":{"properties":{},"type":"object"}}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"file":{"description":"档案文件","example":"product.zip","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"档案导出","tags":["Data"]}},"/rule/{id}":{"delete":{"description":"删除规则引擎","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_rule_id"},"operationId":"delete_rule_id","parameters":[{"description":"规则引擎名称","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"code":{"type":"number"},"data":{"items":{"$ref":"#/definitions/Rule"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"删除规则引擎","tags":["Rule"]},"get":{"description":"获取规则引擎","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_rule_id"},"operationId":"get_rule_id","parameters":[{"description":"规则引擎名称","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"code":{"type":"number"},"data":{"items":{"$ref":"#/definitions/Rule"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取规则引擎","tags":["Rule"]}},"/token":{"get":{"description":"获取子角色Token","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_token"},"operationId":"get_token","parameters":[{"default":"pump","description":"子角色名","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"access_token":{"description":"访问token","example":"QjEwMDczNjgxNTg1NzMxMjM0MjQ3","type":"string"},"desc":{"description":"应用描述","example":"pump","type":"string"},"expires_in":{"description":"过期时间","example":5184000,"type":"number"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获得子角色Token","tags":["_User"]},"post":{"description":"获取 token 时服务器会返回 token 有效期，具体值参考接口返回的 expires_in 字段值。由于网络延迟等原因，系统不保证 token 在此值表示的有效期内绝对有效，如果发现 token 使用异常请重新获取新的 token，比如 http response code 返回 401。","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_token"},"operationId":"post_token","parameters":[{"description":"","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Token"}}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"access_token":{"description":"访问token","example":"QjEwMDczNjgxNTg1NzMxMjM0MjQ3","type":"string"},"desc":{"description":"应用描述","example":"pump","type":"string"},"expires_in":{"description":"过期时间","example":5184000,"type":"number"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"security":[],"summary":"获得Token","tags":["_User"]}},"/iotapp":{"get":{"description":"部署平台","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_iotapp"},"operationId":"get_iotapp","parameters":[{"default":"standard","description":"授权类型","in":"query","name":"type","required":false,"type":"string"},{"default":"fc2400836d1071f26c7f7e0ebeae3b43","description":"授权文件","in":"query","name":"license","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"部署平台","tags":["License"]},"post":{"description":"部署应用","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_iotapp"},"operationId":"post_iotapp","parameters":[{"in":"body","name":"data","required":true,"schema":{"properties":{"appname":{"description":"应用名称","example":"pump","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"部署应用","tags":["License"]}},"/verify_code/{Action}":{"post":{"description":"验证手机号/邮箱是否通过","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_verify_code_action"},"operationId":"post_verify_code_action","parameters":[{"description":"验证操作类型","enum":["login","register","passwordreset","modifyuser"],"in":"path","name":"Action","required":true,"type":"string"},{"description":"邮箱或手机号","in":"query","name":"account","required":true,"type":"string"},{"description":"验证码","in":"query","name":"code","required":true,"type":"integer"},{"description":"扩展参数","in":"body","name":"body","schema":{"properties":{},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"302":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"验证手机号/邮箱是否通过","tags":["Data"]}},"/functions/{func}":{"post":{"description":"云函数","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_functions_func"},"operationId":"post_functions_func","parameters":[{"description":"函数名称","in":"path","name":"func","required":true,"type":"string"},{"description":"提交内容","in":"body","name":"func","required":true,"schema":{"properties":{},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"云函数","tags":["Data"]}},"/classes/_Installation":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_installation"},"operationId":"get_classes_installation","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回部署记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/_Installation"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询部署","tags":["_Installation"]},"post":{"description":"新增一条部署记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_installation"},"operationId":"post_classes_installation","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Installation"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增部署","tags":["_Installation"]}},"/roletree":{"get":{"description":"获取角色树","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_roletree"},"operationId":"get_roletree","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取角色树","tags":["_Role"]}},"/iothub":{"get":{"description":"启动物联网网关","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_iothub"},"operationId":"get_iothub","parameters":[{"description":"产品类型","in":"query","name":"type","required":false,"type":"string"},{"description":"授权文件","in":"query","name":"license","required":true,"type":"string"},{"description":"数据中心地址","in":"query","name":"addr","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"启动物联网关","tags":["License"]}},"/echart/{deviceid}":{"get":{"description":"获取当前设备数据图表，支持折线图，柱状图，饼图等","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_echart_deviceid"},"operationId":"get_echart_deviceid","parameters":[{"default":"a90437ec84","description":"设备ID","in":"path","name":"deviceid","required":true,"type":"string"},{"default":"1610091977000","description":"开始时间（时间戳毫秒）","in":"query","name":"starttime","required":false,"type":"string"},{"default":"1623138377000","description":"结束时间（时间戳毫秒）","in":"query","name":"endtime","required":false,"type":"string"},{"default":"1m","description":"统计间隔","enum":["1u","1a","1s","1m","1h","1d","1w","1n","1y"],"in":"query","name":"interval","required":false,"type":"string"},{"default":"*","description":"需要显示的字段,加 * 则结果显示物模型所有字段","in":"query","name":"keys","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":"last","description":"聚合/计算函数","enum":["count","avg","sum","stddev","min","max","first","last"],"in":"query","name":"function","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取当前设备时序数据图表","tags":["DBA"]}},"/classes/Timescale":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_timescale"},"operationId":"get_classes_timescale","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回时序记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Timescale"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询时序","tags":["Timescale"]},"post":{"description":"新增一条时序记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_timescale"},"operationId":"post_classes_timescale","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Timescale"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增时序","tags":["Timescale"]}},"/server/send":{"get":{"description":"发送指令","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_server_send"},"operationId":"get_server_send","parameters":[{"default":"ZXQK","description":"指令类型ZXQK:读表 ,MMSQ:购电,SKSKM:购负电,MMYQ:强制断电,KSQB:上电,ZXQK:卡授权,SKSKM:远程开锁 ,KSQB:卡型注消 ,RDXX :读开门记录","in":"query","name":"instruct_type","required":true,"type":"string"},{"default":"53393692","description":"授权码:每台设备都有唯一的授权码（厂家提供）","in":"query","name":"hardware_auth","required":true,"type":"string"},{"default":"YXZK0A0405DB","description":"设备编号:接受指令的设备编号（厂家提供）老设备（名欧恩机FE1200EE），新设备（YXZK0A0405DB）","in":"query","name":"hardware_number","required":true,"type":"string"},{"default":"名欧电表19080118","description":"设备路径:指令送达的子设备名或路径","in":"query","name":"hardware_path","required":true,"type":"string"},{"default":"000254","description":"指令ID:应用端指令ID，由发送端自定义，作为指令标识","in":"query","name":"instruct_id","required":true,"type":"string"},{"default":"7100","description":"指令参数:子参数之间以+号分隔 7100+100+12+40+20","in":"query","name":"instruct_paras","required":true,"type":"string"}],"responses":{"200":{"description":"Returns instance data: SEND_SUCCESS 已发送成功，硬件无返回\nSEND_FAIL_OFFLINE 发送失败，未找到硬件\nSEND_FAIL_DISALLOW 发送失败，指令授权失败"},"404":{"description":"object not found"}},"summary":"指令控制","tags":["SuKe"]}},"/classes/Channel/{id}":{"delete":{"description":"通过ID删除通道记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_channel_id"},"operationId":"delete_classes_channel_id","parameters":[{"description":"删除通道的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除通道","tags":["Channel"]},"get":{"description":"根据ID获取通道详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_channel_id"},"operationId":"get_classes_channel_id","parameters":[{"description":"通道的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回通道数据","schema":{"$ref":"#/definitions/Channel"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取通道详情","tags":["Channel"]},"put":{"description":"通过ID更新通道","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_channel_id"},"operationId":"put_classes_channel_id","parameters":[{"description":"更新通道的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Channel"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新通道","tags":["Channel"]}},"/batch":{"post":{"description":"为了减少网络往返的时间，可以使用批处理端点在一次调用中创建、更新或删除多达50个对象。","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_batch"},"operationId":"post_batch","parameters":[{"description":"批处理","in":"body","name":"batch","required":true,"schema":{"properties":{"requests":{"items":{"properties":{"body":{"type":"object"},"method":{"enum":["POST","DELETE","PUT","GET"],"type":"string"},"path":{"type":"string"}},"type":"object"},"type":"array"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"数据批处理","tags":["Data"]}},"/classes/Project/{id}":{"delete":{"description":"通过ID删除项目记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_project_id"},"operationId":"delete_classes_project_id","parameters":[{"description":"删除项目的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除项目","tags":["Project"]},"get":{"description":"根据ID获取项目详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_project_id"},"operationId":"get_classes_project_id","parameters":[{"description":"项目的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回项目数据","schema":{"$ref":"#/definitions/Project"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取项目详情","tags":["Project"]},"put":{"description":"通过ID更新项目","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_project_id"},"operationId":"put_classes_project_id","parameters":[{"description":"更新项目的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Project"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新项目","tags":["Project"]}},"/classes/Permission/{id}":{"delete":{"description":"通过ID删除权限记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_permission_id"},"operationId":"delete_classes_permission_id","parameters":[{"description":"删除权限的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除权限","tags":["Permission"]},"get":{"description":"根据ID获取权限详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_permission_id"},"operationId":"get_classes_permission_id","parameters":[{"description":"权限的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回权限数据","schema":{"$ref":"#/definitions/Permission"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取权限详情","tags":["Permission"]},"put":{"description":"通过ID更新权限","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_permission_id"},"operationId":"put_classes_permission_id","parameters":[{"description":"更新权限的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Permission"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新权限","tags":["Permission"]}},"/import_file":{"post":{"consumes":["*"],"description":"导入文件","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_import_file"},"operationId":"post_import_file","parameters":[{"description":"导入文件信息","in":"body","name":"data","required":true,"schema":{"properties":{"path":{"description":"文件路径","example":"/shapes/利欧泵业测试部/file.zip","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"文件导入","tags":["Data"]}},"/classes/Product/{id}":{"delete":{"description":"通过ID删除产品记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_product_id"},"operationId":"delete_classes_product_id","parameters":[{"description":"删除产品的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除产品","tags":["Product"]},"get":{"description":"根据ID获取产品详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_product_id"},"operationId":"get_classes_product_id","parameters":[{"description":"产品的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回产品数据","schema":{"$ref":"#/definitions/Product"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取产品详情","tags":["Product"]},"put":{"description":"通过ID更新产品","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_product_id"},"operationId":"put_classes_product_id","parameters":[{"description":"更新产品的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Product"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新产品","tags":["Product"]}},"/level/Dict":{"put":{"description":"设置字典表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_dict"},"operationId":"put_level_dict","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置字典表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置字典表级别","tags":["Dict"]}},"/tree":{"post":{"description":"获取类树","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_tree"},"operationId":"post_tree","parameters":[{"description":"获取类树","in":"body","name":"data","required":true,"schema":{"properties":{"class":{"description":"类表名","example":"Device","required":true,"type":"string"},"filter":{"description":"过滤条件 {\"keys\":[\"parentId\",\"name\"],\"where\":{\"$or\":[{\"parentId\":\"lgtDJDEZlW\"},{\"objectId\":\"lgtDJDEZlW\"}]}}","example":"{\"keys\":[\"parentId\",\"name\"]}","type":"object"},"parent":{"description":"父字段名","example":"parentId","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取类树","tags":["Data"]}},"/classes/Notification/{id}":{"delete":{"description":"通过ID删除通知记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_notification_id"},"operationId":"delete_classes_notification_id","parameters":[{"description":"删除通知的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除通知","tags":["Notification"]},"get":{"description":"根据ID获取通知详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_notification_id"},"operationId":"get_classes_notification_id","parameters":[{"description":"通知的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回通知数据","schema":{"$ref":"#/definitions/Notification"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取通知详情","tags":["Notification"]},"put":{"description":"通过ID更新通知","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_notification_id"},"operationId":"put_classes_notification_id","parameters":[{"description":"更新通知的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Notification"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新通知","tags":["Notification"]}},"/classes/Decoder/{id}":{"delete":{"consumes":["*"],"description":"根据ID删除解码器","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_decoder_id"},"operationId":"delete_classes_decoder_id","parameters":[{"description":"解码器ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除解码器","tags":["Decoder"]},"get":{"consumes":["*"],"description":"根据ID获取解码器","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_decoder_id"},"operationId":"get_classes_decoder_id","parameters":[{"description":"解码器ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取解码器","tags":["Decoder"]},"put":{"consumes":["application/json"],"description":"根据ID更新解码器","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_decoder_id"},"operationId":"put_classes_decoder_id","parameters":[{"description":"解码器ID","in":"path","name":"id","required":true,"type":"string"},{"description":"解码器, code字段为Base64编码","in":"body","name":"decoder","required":true,"schema":{"properties":{"code":{"description":"代码","type":"string"},"desc":{"description":"描述","type":"string"},"name":{"description":"名称","type":"string"},"version":{"description":"版本","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"更新解码器","tags":["Decoder"]}},"/classes/_Installation/{id}":{"delete":{"description":"通过ID删除部署记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_installation_id"},"operationId":"delete_classes_installation_id","parameters":[{"description":"删除部署的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除部署","tags":["_Installation"]},"get":{"description":"根据ID获取部署详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_installation_id"},"operationId":"get_classes_installation_id","parameters":[{"description":"部署的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回部署数据","schema":{"$ref":"#/definitions/_Installation"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取部署详情","tags":["_Installation"]},"put":{"description":"通过ID更新部署","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_installation_id"},"operationId":"put_classes_installation_id","parameters":[{"description":"更新部署的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Installation"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新部署","tags":["_Installation"]}},"/classes/_User/{id}":{"delete":{"description":"通过ID删除用户记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_user_id"},"operationId":"delete_classes_user_id","parameters":[{"description":"删除用户的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除用户","tags":["_User"]},"get":{"description":"根据ID获取用户详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_user_id"},"operationId":"get_classes_user_id","parameters":[{"description":"用户的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回用户数据","schema":{"$ref":"#/definitions/_User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取用户详情","tags":["_User"]},"put":{"description":"通过ID更新用户","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_user_id"},"operationId":"put_classes_user_id","parameters":[{"description":"更新用户的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_User"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新用户","tags":["_User"]}},"/apihub":{"get":{"consumes":["*"],"description":"数蛙API网关","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_apihub"},"operationId":"get_apihub","parameters":[{"description":"应用名称","in":"query","name":"appname","required":true,"type":"string"},{"description":"访问Token","in":"query","name":"token","type":"string"}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"access_token":{"description":"访问token","example":"Sjk4NTcxNjkxNTg1ODIwNjkzMjY4","type":"string"},"appid":{"description":"appid","example":"UBB4gbG8Hk","type":"string"},"dashboard":{"description":"首页","example":"/roles/platform_overview","type":"string"},"desc":{"description":"应用描述","example":"pump","type":"string"},"expires_in":{"description":"过期时间","example":5184000,"type":"number"},"file":{"description":"数据文件服务器访问地址","example":"http://file.iotn2n.com/shapes/upload","type":"string"},"graphql":{"description":"graphql api访问地址","example":"http://cad.iotn2n.com:5080/iotapi/graphql","type":"string"},"rest":{"description":"iot rest api跨域访问地址","example":"http://cad.iotn2n.com:5080/iotapi","type":"string"},"topo":{"description":"组态文件服务器访问地址","example":" http://shapes.iotn2n.com/","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"security":[],"summary":"应用访问参数","tags":["License"]}},"/decoder/func/{id}":{"get":{"consumes":["*"],"description":"根据产品ID关联的解码器获取指令集","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_decoder_func_id"},"operationId":"get_decoder_func_id","parameters":[{"description":"解码器ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取指令集","tags":["Decoder"]}},"/devs":{"get":{"description":"查询设备列表","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_devs"},"operationId":"get_devs","parameters":[{"description":"设备类型","in":"query","name":"devType","required":true,"type":"string"},{"description":"设备:devs | 网关/集中器:vcons","enum":["devs","vcons"],"in":"query","name":"nodeType","required":true,"type":"string"},{"description":"起始行数","in":"query","name":"start","required":true,"type":"number"},{"description":"从起始开始查找几条","in":"query","name":"length","required":true,"type":"number"},{"description":"模糊条件查找","in":"query","name":"keyword","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询设备列表","tags":["Device"]}},"/evidence":{"get":{"description":"证据统计","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_evidence"},"operationId":"get_evidence","parameters":[{"default":"9b1be7e831","description":"报告号","in":"query","name":"reportId","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"证据统计","tags":["Evidence"]},"post":{"description":"存证","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_evidence"},"operationId":"post_evidence","parameters":[{"default":"IMAWAarmTP","description":"书证号","in":"query","name":"id","required":true,"type":"string"},{"description":"电子数据","in":"body","name":"data","required":true,"schema":{"properties":{"md5":{"description":"校验码","example":"e9d737315a867b1bd15864d74a4054b9","type":"string"},"original":{"description":"原件","example":{"identifier":"a28b138a-0f31-fe7d-cadc-0be47faf8a8d","name":"image0"},"type":"object"},"scene":{"description":"取证现场","example":"tyApRskkxw","type":"string"},"timestamp":{"description":"取证时间","example":"2020-04-14 18:12:10","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"存证","tags":["Evidence"]},"put":{"description":"证据固化","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_evidence"},"operationId":"put_evidence","parameters":[{"description":"电子证据","in":"body","name":"evidence","required":true,"schema":{"properties":{"objectId":{"description":"书证号","example":"83f990a820","type":"string"},"reportId":{"description":"报告Id","example":"d3f9a0a820","type":"string"},"status":{"description":"审核状态","example":"未审核","required":true,"type":"string"},"type":{"description":"批处理类型：single或者all","example":"single","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"证据固化","tags":["Evidence"]}},"/classes/_Session":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_session"},"operationId":"get_classes_session","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回会话记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/_Session"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询会话","tags":["_Session"]},"post":{"description":"新增一条会话记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_session"},"operationId":"post_classes_session","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Session"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增会话","tags":["_Session"]}},"/level/_User":{"put":{"description":"设置用户表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_user"},"operationId":"put_level_user","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置用户表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置用户表级别","tags":["_User"]}},"/level/_Role":{"put":{"description":"设置角色表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_role"},"operationId":"put_level_role","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置角色表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置角色表级别","tags":["_Role"]}},"/menu":{"get":{"consumes":["*"],"description":"导出菜单","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_menu"},"operationId":"get_menu","parameters":[{"default":"product","description":"菜单名称","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"file":{"description":"菜单配置文件","example":"menu.zip","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"菜单导出","tags":["Menu"]},"post":{"consumes":["multipart/form-data"],"description":"导入菜单","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_menu"},"operationId":"post_menu","parameters":[{"description":"产品数据文件","in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"菜单导入","tags":["Menu"]}},"/nodes":{"get":{"consumes":["*"],"description":"获取节点","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_nodes"},"operationId":"get_nodes","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取节点","tags":["System"]}},"/level/_Session":{"put":{"description":"设置会话表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_session"},"operationId":"put_level_session","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置会话表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置会话表级别","tags":["_Session"]}},"/sendsms":{"post":{"consumes":["*"],"description":"发送短信,短信验证码发送成功后,则会在缓存中以mobile为键写入, 用户下一步提交时，可以根据此键查询验证通过","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_sendsms"},"operationId":"post_sendsms","parameters":[{"description":"国家/地区","enum":["+86/中国","+886/中国台湾","+852/中国香港","+91/India","+244/Angola","+54/Argentina","+1/American Samoa","+880/Bangladesh","+56/Chile","+855/Cambodia","+20/Egypt","+33/France","+49/Germany","+62/Indonesia","+353/Ireland","+972/Israel","+39/Italy","+81/Japan","+60/Malaysia","+63/Philippines","+92/Pakistan","+82/South Korea","+46/Sweden","+65/Singapore","+27/South Africa","+66/Thailand","+971/United Arab Emirates","+44/United Kingdom","+84/Vietnam","+967/Yemen","+260/Zambia"],"in":"query","name":"nationcode","required":true,"type":"string"},{"description":"大陆手机号码","in":"query","name":"account","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"expire":{"type":"number"}},"type":"object"}},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"发送短信验证码","tags":["Data"]}},"/classes/Menu":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_menu"},"operationId":"get_classes_menu","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回菜单记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Menu"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询菜单","tags":["Menu"]},"post":{"description":"新增一条菜单记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_menu"},"operationId":"post_classes_menu","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Menu"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增菜单","tags":["Menu"]}},"/bed":{"get":{"description":"查询台体其子设备","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_bed"},"operationId":"get_bed","parameters":[{"default":"CME8XE2gyr","description":"报告设备号","in":"query","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"查询台体其子设备","tags":["Evidence"]},"post":{"description":"取证前处理","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_bed"},"operationId":"post_bed","parameters":[{"description":"交互信息","in":"body","name":"data","required":true,"schema":{"properties":{"bedaddr":{"description":"台体地址","example":"28a68a908d8c","type":"string"},"controlid":{"description":"控件号","example":"1cbd3751-c968-38d6-4819-35b56b9a509a","type":"string"},"datatype":{"description":"数据类型","example":"liveMonitor","type":"string"},"reportid":{"description":"报告设备号","example":"CME8XE2gyr","type":"string"},"step":{"description":"证据节点","example":"1","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"取证前处理","tags":["Evidence"]}},"/classes/Decoder":{"get":{"consumes":["*"],"description":"查询解码器","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_decoder"},"operationId":"get_classes_decoder","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"查询解码器","tags":["Decoder"]},"post":{"consumes":["application/json"],"description":"给产品新增解码器","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_decoder"},"operationId":"post_classes_decoder","parameters":[{"description":"解码器, code字段为Base64编码","in":"body","name":"decoder","required":true,"schema":{"properties":{"code":{"description":"代码","type":"string"},"desc":{"description":"描述","type":"string"},"name":{"description":"名称","type":"string"},"version":{"description":"版本","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增解码器","tags":["Decoder"]}},"/meter/{devaddr}":{"get":{"description":"读取电表电量","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_meter_devaddr"},"operationId":"get_meter_devaddr","parameters":[{"default":"041600000741","description":"电表地址","in":"path","name":"devaddr","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"读取电表电量","tags":["METER"]}},"/schema/_User":{"get":{"description":"获取用户表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_user"},"operationId":"get_schema_user","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取用户表的权限级别和结构","tags":["_User"]}},"/licupdate":{"get":{"consumes":["*"],"description":"下载升级脚本","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_licupdate"},"operationId":"get_licupdate","parameters":[{"default":"fc2400836d1071f26c7f7e0ebeae3b43","description":"license","in":"query","name":"license","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"离线升级","tags":["License"]}},"/schema/_Session":{"get":{"description":"获取会话表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_session"},"operationId":"get_schema_session","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取会话表的权限级别和结构","tags":["_Session"]}},"/product":{"get":{"consumes":["*"],"description":"导入产品及其设备","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_product"},"operationId":"get_product","parameters":[{"default":"product","description":"产品名称","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"file":{"description":"产品配置文件","example":"product.zip","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"产品档案导出","tags":["Product"]},"post":{"consumes":["multipart/form-data"],"description":"导入产品及其设备","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_product"},"operationId":"post_product","parameters":[{"description":"应用id","in":"formData","name":"appid","type":"string"},{"description":"产品数据文件","in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"file":{"description":"档案文件","example":"product.zip","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"产品档案导入","tags":["Product"]}},"/schema/Timescale":{"get":{"description":"获取时序表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_timescale"},"operationId":"get_schema_timescale","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取时序表的权限级别和结构","tags":["Timescale"]}},"/requestPasswordReset":{"post":{"description":"重置密码","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_requestpasswordreset"},"operationId":"post_requestpasswordreset","parameters":[{"description":"帐号绑定的邮箱/手机号码,填入绑定的邮箱或手机号","in":"body","name":"account","required":true,"schema":{"properties":{"email":{"description":"邮箱","type":"string"},"phone":{"description":"手机号码","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized"},"500":{"description":"Server Internal error"}},"security":[],"summary":"重置密码","tags":["_User"]}},"/level/Channel":{"put":{"description":"设置通道表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_channel"},"operationId":"put_level_channel","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置通道表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置通道表级别","tags":["Channel"]}},"/classes/Permission":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_permission"},"operationId":"get_classes_permission","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回权限记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Permission"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询权限","tags":["Permission"]},"post":{"description":"新增一条权限记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_permission"},"operationId":"post_classes_permission","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Permission"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增权限","tags":["Permission"]}},"/control_device":{"post":{"description":"发送新马赫控制板控制信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_control_device"},"operationId":"post_control_device","parameters":[{"in":"body","name":"data","required":true,"schema":{"properties":{"devaddr":{"description":"设备地址","example":"30001","type":"string"},"payload":{"description":"命令参数","example":{"FOTA":"0","ParaGet":"0","PowerOnCtrl":"1","PubCtrl":"1","PubFreq":23},"type":"object"},"type":{"description":"命令类型","example":"ControlParams","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"发送新马赫控制板控制信息","tags":["Sinmahe"]}},"/pump_report/{id}":{"get":{"consumes":["*"],"description":"获取测试报告","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_pump_report_id"},"operationId":"get_pump_report_id","parameters":[{"description":"报告ID","in":"path","name":"id","required":true,"type":"string"},{"description":"语言","in":"query","name":"lang","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取测试报告","tags":["Pump"]}},"/lictool":{"get":{"consumes":["*"],"description":"下载license辅助小工具","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_lictool"},"operationId":"get_lictool","parameters":[{"description":"appid","in":"query","name":"appid","required":true,"type":"string"},{"description":"appsecret","in":"query","name":"appsecret","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"lictool","tags":["License"]}},"/schema/Evidence":{"get":{"description":"获取证据表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_evidence"},"operationId":"get_schema_evidence","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取证据表的权限级别和结构","tags":["Evidence"]}},"/plugin/{App}":{"post":{"consumes":["*"],"description":"对插件启动/停止/热更新/获取","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_plugin_app"},"operationId":"post_plugin_app","parameters":[{"description":"插件名","in":"path","name":"App","required":true,"type":"string"},{"description":"启动/停止/热更新/获取","enum":["start","stop","reload","modules"],"in":"query","name":"Action","required":true,"type":"string"}],"responses":{"201":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"对插件启动/停止/热更新/获取","tags":["System"]}},"/role":{"delete":{"consumes":["*"],"description":"删除角色","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_role"},"operationId":"delete_role","parameters":[{"default":"developer","description":"名称","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除角色","tags":["_Role"]},"get":{"consumes":["*"],"description":"获取角色","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_role"},"operationId":"get_role","parameters":[{"default":"developer","description":"名称","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取角色","tags":["_Role"]},"post":{"description":"创建角色","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_role"},"operationId":"post_role","parameters":[{"description":"角色信息","in":"body","name":"data","required":true,"schema":{"properties":{"depname":{"description":"部门名称","example":"运维部","type":"string"},"desc":{"description":"描述","example":"Project","type":"string"},"name":{"description":"名称","example":"shuwa","type":"string"},"parent":{"description":"父亲ID","example":"cBdwcIdp0n","type":"string"},"tempname":{"description":"角色模版名称","example":"pump模版","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"创建角色","tags":["_Role"]},"put":{"description":"修改角色","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_role"},"operationId":"put_role","parameters":[{"description":"角色信息","in":"body","name":"data","required":true,"schema":{"properties":{"menus":{"description":"菜单列表","example":["项目管理","访问权限"],"type":"array"},"objectId":{"description":"角色ID","example":"tXcMOOJFA1","type":"string"},"roles":{"description":"父角色列表","example":["admin"],"type":"array"},"rules":{"description":"API列表","example":["GET_USERS_ID","GET_USERS_ME"],"type":"array"},"users":{"description":"用户列表","example":["test"],"type":"array"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改角色","tags":["_Role"]}},"/schema/Permission":{"get":{"description":"获取权限表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_permission"},"operationId":"get_schema_permission","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取权限表的权限级别和结构","tags":["Permission"]}},"/schema/Product":{"get":{"description":"获取产品表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_product"},"operationId":"get_schema_product","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取产品表的权限级别和结构","tags":["Product"]}},"/level/Project":{"put":{"description":"设置项目表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_project"},"operationId":"put_level_project","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置项目表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置项目表级别","tags":["Project"]}},"/setup_result":{"get":{"consumes":["*"],"description":"安装结果","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_setup_result"},"operationId":"get_setup_result","parameters":[{"description":"license","in":"query","name":"license","required":true,"type":"string"},{"description":"result","in":"query","name":"result","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"安装结果","tags":["License"]}},"/report/{reportId}":{"delete":{"description":"删除取证报告","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_report_reportid"},"operationId":"delete_report_reportid","parameters":[{"description":"报告Id","in":"path","name":"reportId","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除取证报告","tags":["Evidence"]}},"/cert":{"get":{"description":"扫描U盾","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_cert"},"operationId":"get_cert","parameters":[],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"扫描U盾","tags":["Evidence"]}},"/sinmahe_count":{"get":{"consumes":["*"],"description":"获取新马赫设备统计数据","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_sinmahe_count"},"operationId":"get_sinmahe_count","parameters":[],"responses":{"200":{"description":"Returns success","schema":{"properties":{"deviceInfo":{"description":"统计数据信息","example":{"online":10,"running":10,"suspend":10,"total":10},"type":"object"},"devicedata":{"description":"位置信息","example":[{"Lat":120.34,"Lon":32.12,"devaddr":30001}],"type":"list"},"warnings":{"description":"告警信息","example":[{"devaddr":30001,"warnType":6}],"type":"list"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取新马赫设备统计数据","tags":["Sinmahe"]}},"/import_data":{"post":{"consumes":["multipart/form-data"],"description":"json文件导库","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_import_data"},"operationId":"post_import_data","parameters":[{"description":"表名","in":"formData","name":"className","type":"string"},{"description":"数据文件","in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"导库","tags":["Data"]}},"/thing":{"put":{"description":"修改物模型","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_thing"},"operationId":"put_thing","parameters":[{"description":"关联信息","in":"body","name":"data","required":true,"schema":{"properties":{"item":{"description":"物模型单项指标","example":{"accessMode":"r","dataForm":{"address":"0x0001","byteorder":"big","offset":0,"operatetype":"holdingRegister","originaltype":"int16","protocol":"modbus","quantity":2,"rate":1,"slaveid":1},"dataType":{"specs":{"max":500,"min":-500,"step":0.1,"unit":"MPa"},"type":"float"},"identifier":"pressure_out","name":"出口压力","required":true},"type":"object"},"productid":{"description":"产品标识","example":"9c5930e565","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改物模型","tags":["Product"]}},"/classes/Notification":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_notification"},"operationId":"get_classes_notification","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回通知记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Notification"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询通知","tags":["Notification"]},"post":{"description":"新增一条通知记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_notification"},"operationId":"post_classes_notification","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Notification"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增通知","tags":["Notification"]}},"/capture":{"get":{"description":"关联组态控件与物模型","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_capture"},"operationId":"get_capture","parameters":[{"default":"JVANH8bf5n","description":"组态控件的产品Id","in":"query","name":"productid","type":"string"},{"default":"330980","description":"组态控件的句柄","in":"query","name":"topoid","type":"string"},{"default":"temper","description":"物模型的数据标识","in":"query","name":"thingid","type":"string"},{"default":"JVANH8bf5n","description":"物模型的子产品Id","in":"query","name":"subdevid","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"关联组态控件与物模型","tags":["Evidence"]}},"/classes/Dict/{id}":{"delete":{"description":"通过ID删除字典记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_dict_id"},"operationId":"delete_classes_dict_id","parameters":[{"description":"删除字典的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除字典","tags":["Dict"]},"get":{"description":"根据ID获取字典详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_dict_id"},"operationId":"get_classes_dict_id","parameters":[{"description":"字典的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回字典数据","schema":{"$ref":"#/definitions/Dict"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取字典详情","tags":["Dict"]},"put":{"description":"通过ID更新字典","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_dict_id"},"operationId":"put_classes_dict_id","parameters":[{"description":"更新字典的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Dict"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新字典","tags":["Dict"]}},"/roletemp":{"delete":{"consumes":["*"],"description":"删除岗位","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_roletemp"},"operationId":"delete_roletemp","parameters":[{"default":"系统管理员","description":"岗位名称","in":"query","name":"name","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除岗位","tags":["_Role"]},"get":{"consumes":["*"],"description":"导出岗位","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_roletemp"},"operationId":"get_roletemp","parameters":[{"default":"pump","description":"岗位名称","in":"query","name":"name","type":"string"},{"default":"系统管理员","description":"岗位名称","in":"query","name":"tempname","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"导出岗位","tags":["_Role"]},"post":{"consumes":["*"],"description":"保存岗位","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_roletemp"},"operationId":"post_roletemp","parameters":[{"default":"pump","description":"岗位名称","in":"query","name":"name","type":"string"},{"default":"系统管理员","description":"岗位名称","in":"query","name":"tempname","type":"string"}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"保存岗位","tags":["_Role"]},"put":{"description":"修改岗位","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_roletemp"},"operationId":"put_roletemp","parameters":[{"description":"岗位信息","in":"body","name":"data","required":true,"schema":{"properties":{"menus":{"description":"菜单列表","example":["项目管理","访问权限"],"type":"array"},"objectId":{"description":"角色ID","example":"tXcMOOJFA1","type":"string"},"roles":{"description":"父角色列表","example":["admin"],"type":"array"},"rules":{"description":"API列表","example":["GET_USERS_ID","GET_USERS_ME"],"type":"array"},"users":{"description":"用户列表","example":["test"],"type":"array"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改岗位","tags":["_Role"]}},"/upload":{"post":{"consumes":["multipart/form-data"],"description":"文件上传到服务器","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_upload"},"operationId":"post_upload","parameters":[{"in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"服务器文件上传","tags":["Data"]}},"/ffmpeg":{"get":{"description":"获取视频取证任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_ffmpeg"},"operationId":"get_ffmpeg","parameters":[{"default":"ALL","description":"视频类型  ALL：所有类型，IPCRECORD:网络摄像头录播, IPCLIVE: 网络摄像头直播，SCREENRECORD：桌面录播，SCREENLIVE：桌面直播 ","enum":["ALL","IPCRECORD","IPCLIVE","SCREENRECORD","SCREENLIVE"],"in":"query","name":"type","type":"string"},{"default":"28a68a908d8c","description":"视频设备地址","in":"query","name":"devaddr","type":"string"},{"default":"ipjnGiLSt7","description":"视频设备类型","in":"query","name":"product","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取视频取证任务","tags":["FFMPEG"]},"put":{"description":"修改视频取证任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_ffmpeg"},"operationId":"put_ffmpeg","parameters":[{"description":"角色信息","in":"body","name":"data","required":true,"schema":{"properties":{"devaddr":{"description":"视频设备地址","example":"28a68a908d8c","type":"string"},"enable":{"description":"控制动作","enum":[true,false],"example":true,"type":"boolean"},"interval":{"description":"单次任务直播或者录播时长，单位秒","example":30,"type":"number"},"product":{"description":"视频设备类型","example":"ipjnGiLSt7","type":"string"},"type":{"description":"视频类型  ALL：所有类型，IPCRECORD:网络摄像头录播, IPCLIVE: 网络摄像头直播，SCREENRECORD：桌面录播，SCREENLIVE：桌面直播 ","enum":["ALL","IPCRECORD","IPCLIVE","SCREENRECORD","SCREENLIVE"],"example":"ALL","type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改视频取证任务","tags":["FFMPEG"]}},"/pump_result/{id}":{"get":{"consumes":["*"],"description":"获取测试数据","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_pump_result_id"},"operationId":"get_pump_result_id","parameters":[{"description":"数据库Id","in":"path","name":"id","required":true,"type":"string"},{"description":"报告号","in":"query","name":"reportid","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取测试数据","tags":["Pump"]}},"/schema/Tag":{"get":{"description":"获取标签表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_tag"},"operationId":"get_schema_tag","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取标签表的权限级别和结构","tags":["Tag"]}},"/rule_test":{"post":{"description":"创建规则引擎","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_rule_test"},"operationId":"post_rule_test","parameters":[{"description":"规则引擎配置","in":"body","name":"rule","schema":{"$ref":"#/definitions/Rule"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"测试规则引擎","tags":["Rule"]}},"/classes/Tag":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_tag"},"operationId":"get_classes_tag","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回标签记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Tag"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询标签","tags":["Tag"]},"post":{"description":"新增一条标签记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_tag"},"operationId":"post_classes_tag","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Tag"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增标签","tags":["Tag"]}},"/schema/Dict":{"get":{"description":"获取字典表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_dict"},"operationId":"get_schema_dict","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取字典表的权限级别和结构","tags":["Dict"]}},"/python_sinmahe_statistics":{"post":{"description":"新马赫单个设备运行统计时间","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_python_sinmahe_statistics"},"operationId":"post_python_sinmahe_statistics","parameters":[{"description":"新马赫运行统计时间","in":"body","name":"data","required":true,"schema":{"properties":{"devaddr":{"description":"外壳编号","example":"shuwa","required":true,"type":"string"},"productid":{"description":"","example":"shuwa","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新马赫运行统计时间","tags":["Python"]}},"/schema/_Role":{"get":{"description":"获取角色表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_role"},"operationId":"get_schema_role","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取角色表的权限级别和结构","tags":["_Role"]}},"/level/Permission":{"put":{"description":"设置权限表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_permission"},"operationId":"put_level_permission","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置权限表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置权限表级别","tags":["Permission"]}},"/classes/Crond/{id}":{"delete":{"description":"通过ID删除任务记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_crond_id"},"operationId":"delete_classes_crond_id","parameters":[{"description":"删除任务的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除任务","tags":["Crond"]},"get":{"description":"根据ID获取任务详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_crond_id"},"operationId":"get_classes_crond_id","parameters":[{"description":"任务的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回任务数据","schema":{"$ref":"#/definitions/Crond"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取任务详情","tags":["Crond"]},"put":{"description":"通过ID更新任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_crond_id"},"operationId":"put_classes_crond_id","parameters":[{"description":"更新任务的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Crond"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新任务","tags":["Crond"]}},"/schema/License":{"get":{"description":"获取授权表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_license"},"operationId":"get_schema_license","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取授权表的权限级别和结构","tags":["License"]}},"/classes/License":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_license"},"operationId":"get_classes_license","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回授权记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/License"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询授权","tags":["License"]},"post":{"description":"新增一条授权记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_license"},"operationId":"post_classes_license","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/License"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增授权","tags":["License"]}},"/classes/_Role":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_role"},"operationId":"get_classes_role","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回角色记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/_Role"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询角色","tags":["_Role"]},"post":{"description":"新增一条角色记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_role"},"operationId":"post_classes_role","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/_Role"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增角色","tags":["_Role"]}},"/schema/Device":{"get":{"description":"获取设备表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_device"},"operationId":"get_schema_device","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取设备表的权限级别和结构","tags":["Device"]}},"/classes/App/{id}":{"delete":{"description":"通过ID删除应用记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_app_id"},"operationId":"delete_classes_app_id","parameters":[{"description":"删除应用的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除应用","tags":["App"]},"get":{"description":"根据ID获取应用详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_app_id"},"operationId":"get_classes_app_id","parameters":[{"description":"应用的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回应用数据","schema":{"$ref":"#/definitions/App"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取应用详情","tags":["App"]},"put":{"description":"通过ID更新应用","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_app_id"},"operationId":"put_classes_app_id","parameters":[{"description":"更新应用的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/App"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新应用","tags":["App"]}},"/device/{deviceid}":{"get":{"description":"获取当前设备数据，支持聚合函数,选择函数，计算函数，时间维度聚合","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_device_deviceid"},"operationId":"get_device_deviceid","parameters":[{"description":"设备ID","in":"path","name":"deviceid","required":true,"type":"string"},{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"default":"","description":"需要显示的字段,加count(*)则结果里面会显示总记录数, last_row为获取最后一条记录, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"default":"{\"createdat\":{\"$gte\":\"now - 10d\"}}","description":"过滤条件，eg: {\"createdat\": {\"$gte\":\"now - 10d\"}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取当前设备时序数据","tags":["DBA"]}},"/mysql/{cid}/{table}":{"get":{"consumes":["*"],"description":"获取指定通道指定表信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_mysql_cid_table"},"operationId":"get_mysql_cid_table","parameters":[{"default":"pump","description":"通道ID,在创建MySQL通道时指定的通道ID","in":"path","name":"cid","required":true,"type":"string"},{"description":"表名","in":"path","name":"table","required":true,"type":"string"},{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":1,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$regex\":\"BGS3BFgcZN\"}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取指定通道指定表信息","tags":["DBA"]}},"/import_reportTemp":{"post":{"consumes":["multipart/form-data"],"description":"json文件导库","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_import_reporttemp"},"operationId":"post_import_reporttemp","parameters":[{"description":"表名","in":"formData","name":"className","type":"string"},{"description":"数据文件","in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"导库","tags":["Data"]}},"/users/me":{"get":{"consumes":["*"],"description":"检查会话是否有效,用于判断是否登录","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_users_me"},"operationId":"get_users_me","parameters":[{"in":"header","name":"sessionToken","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"检查会话是否有效","tags":["_User"]}},"/python_hello":{"post":{"description":"Python测试API","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_python_hello"},"operationId":"post_python_hello","parameters":[{"description":"生成报告","in":"body","name":"data","required":true,"schema":{"properties":{"name":{"description":"姓名","example":"9c5930e565","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"Python测试API","tags":["EXPROTO"]}},"/schema/Notification":{"get":{"description":"获取通知表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_notification"},"operationId":"get_schema_notification","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取通知表的权限级别和结构","tags":["Notification"]}},"/product/{pid}":{"get":{"description":"获取当前产品下的所有设备数据，支持聚合函数,选择函数，计算函数，时间维度聚合","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_product_pid"},"operationId":"get_product_pid","parameters":[{"default":"0765bee775","description":"产品ID","in":"path","name":"pid","required":true,"type":"string"},{"default":"createdat","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"default":"last_row(*)","description":"需要显示的字段,加count(*)则结果里面会显示总记录数, last_row为获取最后一条记录, tbname,为设备字段, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"default":{"createdat":{"$gte":"now - 10d"}},"description":"过滤条件，eg: {\"createdat\": {\"$gte\":\"now - 10d\"}}","in":"query","name":"where","required":false,"type":"string"},{"default":"PREV","description":"填充模式，{ VALUE | PREV | NULL | LINEAR}","in":"query","name":"fill","required":false,"type":"string"},{"default":"10a","description":"聚合时间段: 10a","in":"query","name":"interval","required":false,"type":"string"},{"default":"devaddr","description":"聚合字段，eg: devaddr","in":"query","name":"group","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取当前产品下的所有设备数据","tags":["DBA"]}},"/test_data":{"get":{"consumes":["*"],"description":"获取水泵测试性能曲线及合格性结果","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_test_data"},"operationId":"get_test_data","parameters":[{"in":"body","name":"data","required":true,"schema":{"properties":{"AcceptParam":{"description":"验收标准","example":{"te_down":-0.07,"th_down":-0.05,"th_up":0.05,"tp_up":0.07,"tq_down":-0.06,"tq_up":0.06},"type":"object"},"ConvertData":{"description":"换算成额定转速下的各个参数值","example":[{"EConvert":1,"HConvert":1,"PConvert":1,"QConvert":1},{"EConvert":2,"HConvert":2,"PConvert":2,"QConvert":2}],"type":"list"},"RateParam":{"description":"水泵额定参数","example":{"RateEffect":10,"RateFlow":10,"RateHead":10,"RateNPSH":3,"RatePower":10,"RateSpeed":2980},"type":"object"},"TestData":{"description":"试验采集实际转速下的各个参数值","example":[{"ETest":1,"HTest":1,"Ntest":1480,"PTest":1,"QTest":1},{"ETest":2,"HTest":2,"Ntest":1480,"PTest":2,"QTest":2}],"type":"list"}},"type":"object"}}],"responses":{"200":{"description":"Returns success","schema":{"properties":{"EQCurve":{"description":"效率流量曲线系数","example":{"a0":1,"a1":1,"a2":1,"a3":1},"type":"object"},"EResult":{"description":"效率合格判定结果","example":"unqualified","type":"string"},"HQCurve":{"description":"扬程流量曲线系数","example":{"a0":1,"a1":1,"a2":1,"a3":1},"type":"object"},"HQResult":{"description":"扬程流量合格判定结果","example":"qualified","type":"string"},"PQCurve":{"description":"功率流量曲线系数","example":{"a0":1,"a1":1,"a2":1,"a3":1},"type":"object"},"PResult":{"description":"功率合格判定结果","example":"qualified","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取水泵测试性能曲线及合格性结果","tags":["Pump"]}},"/schema/View":{"get":{"description":"获取视图表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_view"},"operationId":"get_schema_view","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取视图表的权限级别和结构","tags":["View"]}},"/users":{"post":{"description":"用户注册","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_users"},"operationId":"post_users","parameters":[{"description":"用户信息","in":"body","name":"user","required":true,"schema":{"properties":{"password":{"description":"用户密码","type":"string"},"phone":{"description":"手机号","type":"string"},"username":{"description":"用户名","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"nick":{"description":"昵称","type":"string"},"objectId":{"description":"用户ID","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"用户注册","tags":["_User"]}},"/point":{"get":{"description":"获取采集点","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_point"},"operationId":"get_point","parameters":[{"default":"6L0USgdnp5","description":"报告号","in":"query","name":"reportid","required":true,"type":"string"},{"default":1,"description":"采样点号","in":"query","name":"index","type":"number"},{"default":1591609983,"description":"开始时间","in":"query","name":"begin","type":"number"},{"default":1591607482,"description":"结束时间","in":"query","name":"end","type":"number"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取采集点","tags":["Evidence"]},"post":{"description":"标识采样点","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_point"},"operationId":"post_point","parameters":[{"description":"交互信息","in":"body","name":"data","required":true,"schema":{"properties":{"begin":{"description":"开始时间","example":1591609983,"type":"number"},"end":{"description":"开始时间","example":1591609983,"type":"number"},"index":{"description":"采样点号","example":1,"type":"number"},"reportid":{"description":"报告号","example":"CME8XE2gyr","type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"标识采样点","tags":["Evidence"]}},"/level/Timescale":{"put":{"description":"设置时序表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_timescale"},"operationId":"put_level_timescale","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置时序表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置时序表级别","tags":["Timescale"]}},"/level/Tag":{"put":{"description":"设置标签表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_tag"},"operationId":"put_level_tag","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置标签表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置标签表级别","tags":["Tag"]}},"/classes/Instruct":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_instruct"},"operationId":"get_classes_instruct","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回指令记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Instruct"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询指令","tags":["Instruct"]},"post":{"description":"新增一条指令记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_instruct"},"operationId":"post_classes_instruct","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Instruct"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增指令","tags":["Instruct"]}},"/mysql/{table}":{"get":{"consumes":["*"],"description":"获取默认通道指定表信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_mysql_table"},"operationId":"get_mysql_table","parameters":[{"description":"表名","in":"path","name":"table","required":true,"type":"string"},{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":1,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$regex\":\"BGS3BFgcZN\"}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取默认通道指定表信息","tags":["DBA"]}},"/konva_thing":{"get":{"description":"物模型详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_konva_thing"},"operationId":"get_konva_thing","parameters":[{"default":"","description":"产品ObjectId","in":"query","name":"productid","required":true,"type":"string"},{"default":"","description":"shapeid","in":"query","name":"shapeid","required":true,"type":"string"}],"responses":{"200":{"description":""},"404":{"description":""}},"summary":"物模型详情","tags":["TOPO"]},"post":{"description":"修改组态","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_konva_thing"},"operationId":"post_konva_thing","parameters":[{"description":"修改组态","in":"body","name":"data","required":true,"schema":{"properties":{"identifier":{"type":"string"},"name":{"type":"string"},"productid":{"type":"string"},"shapeid":{"type":"string"}},"type":"object"}}],"responses":{"200":{"description":""},"404":{"description":""}},"summary":"组态修改","tags":["TOPO"]}},"/classes/Navigation":{"get":{"consumes":["*"],"description":"查询顶部导航菜单","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_navigation"},"operationId":"get_classes_navigation","parameters":[{"description":"排序方式","in":"query","name":"order","required":false,"type":"string"},{"description":"显示数量","in":"query","name":"limit","required":false,"type":"number"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取顶部导航","tags":["Menu"]}},"/control/channel":{"post":{"consumes":["*"],"description":"如果通道配置有改变时的要操作","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_control_channel"},"operationId":"post_control_channel","parameters":[{"description":"通道ID","in":"query","name":"id","required":true,"type":"string"},{"description":"动作","enum":["update","enable","disable"],"in":"query","name":"action","required":true,"type":"string"}],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"通道控制","tags":["Channel"]}},"/classes/License/{id}":{"delete":{"description":"通过ID删除授权记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_license_id"},"operationId":"delete_classes_license_id","parameters":[{"description":"删除授权的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除授权","tags":["License"]},"get":{"description":"根据ID获取授权详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_license_id"},"operationId":"get_classes_license_id","parameters":[{"description":"授权的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回授权数据","schema":{"$ref":"#/definitions/License"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取授权详情","tags":["License"]},"put":{"description":"通过ID更新授权","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_license_id"},"operationId":"put_classes_license_id","parameters":[{"description":"更新授权的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/License"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新授权","tags":["License"]}},"/classes/Test/{id}":{"delete":{"description":"通过ID删除Test记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_test_id"},"operationId":"delete_classes_test_id","parameters":[{"description":"删除Test的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除Test","tags":["Test"]},"get":{"description":"根据ID获取Test详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_test_id"},"operationId":"get_classes_test_id","parameters":[{"description":"Test的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回Test数据","schema":{"$ref":"#/definitions/Test"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取Test详情","tags":["Test"]},"put":{"description":"通过ID更新Test","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_test_id"},"operationId":"put_classes_test_id","parameters":[{"description":"更新Test的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Test"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新Test","tags":["Test"]}},"/level/Instruct":{"put":{"description":"设置指令表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_instruct"},"operationId":"put_level_instruct","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置指令表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置指令表级别","tags":["Instruct"]}},"/classes/Test":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_test"},"operationId":"get_classes_test","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回Test记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Test"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询Test","tags":["Test"]},"post":{"description":"新增一条Test记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_test"},"operationId":"post_classes_test","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Test"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增Test","tags":["Test"]}},"/schema/Test":{"get":{"description":"获取Test表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_test"},"operationId":"get_schema_test","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取Test表的权限级别和结构","tags":["Test"]}},"/classes/Timescale/{id}":{"delete":{"description":"通过ID删除时序记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_timescale_id"},"operationId":"delete_classes_timescale_id","parameters":[{"description":"删除时序的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除时序","tags":["Timescale"]},"get":{"description":"根据ID获取时序详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_timescale_id"},"operationId":"get_classes_timescale_id","parameters":[{"description":"时序的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回时序数据","schema":{"$ref":"#/definitions/Timescale"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取时序详情","tags":["Timescale"]},"put":{"description":"通过ID更新时序","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_timescale_id"},"operationId":"put_classes_timescale_id","parameters":[{"description":"更新时序的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Timescale"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新时序","tags":["Timescale"]}},"/schema/Menu":{"get":{"description":"获取菜单表的权限级别和结构","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_schema_menu"},"operationId":"get_schema_menu","parameters":[],"responses":{"200":{"description":"获取成功"},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取菜单表的权限级别和结构","tags":["Menu"]}},"/rules":{"get":{"description":"获取规则引擎列表","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_rules"},"operationId":"get_rules","parameters":[],"responses":{"200":{"description":"Returns operation status","schema":{"properties":{"code":{"type":"number"},"data":{"items":{"$ref":"#/definitions/Rule"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取规则引擎列表","tags":["Rule"]},"post":{"description":"创建规则引擎","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_rules"},"operationId":"post_rules","parameters":[{"description":"规则引擎配置","in":"body","name":"rule","schema":{"$ref":"#/definitions/Rule"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"创建规则引擎","tags":["Rule"]}},"/logout":{"post":{"consumes":["*"],"description":"退出登录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_logout"},"operationId":"post_logout","parameters":[{"in":"header","name":"sessionToken","required":true,"type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"退出登录","tags":["_User"]}},"/pump_token":{"get":{"consumes":["*"],"description":"获取水泵应用访问连接平的token","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_pump_token"},"operationId":"get_pump_token","parameters":[],"responses":{"200":{"description":"Returns success","schema":{"properties":{"access_token":{"description":"访问token","example":"Sjk4NTcxNjkxNTg1ODIwNjkzMjY4","type":"string"},"appid":{"description":"appid","example":"UBB4gbG8Hk","type":"string"},"dashboard":{"description":"首页","example":"/roles/platform_overview","type":"string"},"desc":{"description":"应用描述","example":"pump","type":"string"},"expires_in":{"description":"过期时间","example":5184000,"type":"number"},"file":{"description":"数据文件服务器访问地址","example":"http://file.iotn2n.com/shapes/upload","type":"string"},"graphql":{"description":"graphql api访问地址","example":"http://cad.iotn2n.com:5080/iotapi/graphql","type":"string"},"rest":{"description":"iot rest api跨域访问地址","example":"http://cad.iotn2n.com:5080/iotapi","type":"string"},"topo":{"description":"组态文件服务器访问地址","example":" http://shapes.iotn2n.com/","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取水泵应用访问连接平的token","tags":["Pump"]}},"/sinmahe_fault":{"get":{"description":"获取新马赫告警信息","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_sinmahe_fault"},"operationId":"get_sinmahe_fault","parameters":[{"default":1,"description":"告警类型","in":"query","name":"FaultType","type":"number"},{"default":1,"description":"告警等级","in":"query","name":"FaultLevel","type":"number"},{"default":1,"description":"告警代号","in":"query","name":"FaultCode","type":"number"},{"default":0,"description":"告警原因","in":"query","name":"FaultSrc","type":"number"}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取新马赫告警信息","tags":["Sinmahe"]},"post":{"consumes":["*"],"description":"获取新马赫告警规则文件","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_sinmahe_fault"},"operationId":"post_sinmahe_fault","parameters":[],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取新马赫告警规则文件","tags":["Sinmahe"]}},"/sinmahe_token":{"get":{"consumes":["*"],"description":"获取新马赫访问的token","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_sinmahe_token"},"operationId":"get_sinmahe_token","parameters":[],"responses":{"200":{"description":"Returns success","schema":{"properties":{"access_token":{"description":"访问token","example":"Sjk4NTcxNjkxNTg1ODIwNjkzMjY4","type":"string"},"appid":{"description":"appid","example":"UBB4gbG8Hk","type":"string"},"dashboard":{"description":"首页","example":"/roles/platform_overview","type":"string"},"desc":{"description":"应用描述","example":"pump","type":"string"},"expires_in":{"description":"过期时间","example":5184000,"type":"number"},"file":{"description":"数据文件服务器访问地址","example":"http://file.iotn2n.com/shapes/upload","type":"string"},"graphql":{"description":"graphql api访问地址","example":"http://cad.iotn2n.com:5080/iotapi/graphql","type":"string"},"rest":{"description":"iot rest api跨域访问地址","example":"http://cad.iotn2n.com:5080/iotapi","type":"string"},"topo":{"description":"组态文件服务器访问地址","example":" http://shapes.iotn2n.com/","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error"}},"summary":"获取新马赫访问的token","tags":["Sinmahe"]}},"/classes/Tag/{id}":{"delete":{"description":"通过ID删除标签记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_tag_id"},"operationId":"delete_classes_tag_id","parameters":[{"description":"删除标签的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除标签","tags":["Tag"]},"get":{"description":"根据ID获取标签详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_tag_id"},"operationId":"get_classes_tag_id","parameters":[{"description":"标签的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回标签数据","schema":{"$ref":"#/definitions/Tag"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取标签详情","tags":["Tag"]},"put":{"description":"通过ID更新标签","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_tag_id"},"operationId":"put_classes_tag_id","parameters":[{"description":"更新标签的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Tag"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新标签","tags":["Tag"]}},"/classes/View":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_view"},"operationId":"get_classes_view","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回视图记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/View"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询视图","tags":["View"]},"post":{"description":"新增一条视图记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_view"},"operationId":"post_classes_view","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/View"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增视图","tags":["View"]}},"/relation":{"delete":{"description":"删除关联","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_relation"},"operationId":"delete_relation","parameters":[{"description":"关联信息","in":"body","name":"data","required":true,"schema":{"properties":{"destClass":{"description":"目标类名","example":"_Role","type":"string"},"destField":{"description":"目标关联字段","example":"users","type":"string"},"destId":{"description":"目标类对象","example":"0w66Wg1thM","type":"string"},"srcClass":{"description":"源类名","example":"_User","type":"string"},"srcId":{"description":"源类对象","example":"hXc9BkGCOD","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"删除关联","tags":["Data"]},"post":{"description":"创建关联","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_relation"},"operationId":"post_relation","parameters":[{"description":"关联信息","in":"body","name":"data","required":true,"schema":{"properties":{"destClass":{"description":"目标类名","example":"_Role","type":"string"},"destField":{"description":"目标关联字段","example":"users","type":"string"},"destId":{"description":"目标类对象","example":"0w66Wg1thM","type":"string"},"srcClass":{"description":"源类名","example":"_User","type":"string"},"srcId":{"description":"源类对象","example":"hXc9BkGCOD","type":"string"}},"type":"object"}}],"responses":{"201":{"description":"Returns success"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"创建关联","tags":["Data"]}},"/devs/{vcon}":{"get":{"description":"根据网关查询设备列表","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_devs_vcon"},"operationId":"get_devs_vcon","parameters":[{"description":"网关地址","in":"path","name":"vcon","required":true,"type":"string"},{"description":"设备类型","in":"query","name":"devType","required":true,"type":"string"},{"description":"设备:devs | 网关:vcons","enum":["devs","vcons"],"in":"query","name":"nodeType","required":true,"type":"string"},{"description":"起始行数","in":"query","name":"start","required":true,"type":"number"},{"description":"从起始开始查找几条","in":"query","name":"length","required":true,"type":"number"},{"description":"模糊条件查找","in":"query","name":"keyword","required":false,"type":"string"}],"produces":["application/json"],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询设备列表","tags":["Device"]}},"/plugin":{"get":{"description":"获取插件","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_plugin"},"operationId":"get_plugin","parameters":[],"responses":{"201":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取插件","tags":["System"]}},"/upload_token":{"post":{"consumes":["*"],"description":"获取上传文件Token","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_upload_token"},"operationId":"post_upload_token","parameters":[{"default":"fastdfs","description":"文件服务器类型","in":"query","name":"from","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"security":[],"summary":"获取上传文件Token","tags":["Data"]}},"/task":{"get":{"description":"获取任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_task"},"operationId":"get_task","parameters":[{"default":"all","description":"台体地址","in":"query","name":"vcaddr","type":"string"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"获取任务","tags":["Crond"]},"put":{"description":"修改任务","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_task"},"operationId":"put_task","parameters":[{"description":"新增任务","in":"body","name":"data","required":true,"schema":{"properties":{"appdata":{"description":"应用参数","example":{"reportId":"e9e81795db"},"type":"object"},"channelId":{"description":"任务通道号","example":"H5JTFwdCwT","type":"string"},"end_time":{"description":"结束时间","example":"2020-08-28 10:35:10","required":true,"type":"string"},"start_time":{"description":"开始时间","example":"2020-03-26 10:35:10","required":true,"type":"string"},"vcaddr":{"description":"台体地址","example":"28a68a908d8c","type":"string"}}}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"修改任务","tags":["Crond"]}},"/topo":{"get":{"description":"获取产品组态","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_topo"},"operationId":"get_topo","parameters":[{"default":"","description":"产品ObjectId","in":"query","name":"productid","required":true,"type":"string"},{"default":"","description":"设备编号","in":"query","name":"devaddr","required":false,"type":"string"}],"responses":{"200":{"description":""},"404":{"description":""}},"summary":"获取产品组态","tags":["TOPO"]},"post":{"consumes":["*"],"description":"发送组态","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_topo"},"operationId":"post_topo","parameters":[{"default":"","description":"产品ObjectId","in":"body","name":"productid","required":true,"type":"string"},{"default":"","description":"设备编号","in":"body","name":"devaddr","required":true,"type":"string"},{"default":"","description":"base64","in":"body","name":"base64","required":true,"type":"string"}],"responses":{"200":{"description":""},"404":{"description":""}},"security":[],"summary":"发送组态","tags":["TOPO"]}},"/classes/Dict":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_dict"},"operationId":"get_classes_dict","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回字典记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Dict"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询字典","tags":["Dict"]},"post":{"description":"新增一条字典记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_dict"},"operationId":"post_classes_dict","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Dict"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增字典","tags":["Dict"]}},"/classes/Evidence":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_evidence"},"operationId":"get_classes_evidence","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回证据记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Evidence"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询证据","tags":["Evidence"]},"post":{"description":"新增一条证据记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_evidence"},"operationId":"post_classes_evidence","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Evidence"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增证据","tags":["Evidence"]}},"/classes/Device/{id}":{"delete":{"description":"通过ID删除设备记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#delete_classes_device_id"},"operationId":"delete_classes_device_id","parameters":[{"description":"删除设备的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"Returns a confirmation message"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"删除设备","tags":["Device"]},"get":{"description":"根据ID获取设备详情","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_device_id"},"operationId":"get_classes_device_id","parameters":[{"description":"设备的ID","in":"path","name":"id","required":true,"type":"string"}],"responses":{"200":{"description":"返回设备数据","schema":{"$ref":"#/definitions/Device"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"获取设备详情","tags":["Device"]},"put":{"description":"通过ID更新设备","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_classes_device_id"},"operationId":"put_classes_device_id","parameters":[{"description":"更新设备的ID","in":"path","name":"id","required":true,"type":"string"},{"description":"数据更新的内容.","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Device"}}],"responses":{"200":{"description":"更新成功","schema":{"properties":{"objectId":{"description":"objectId","type":"string"},"updatedAt":{"description":"更新时间","format":"date-time","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"更新设备","tags":["Device"]}},"/level/License":{"put":{"description":"设置授权表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_license"},"operationId":"put_level_license","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置授权表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置授权表级别","tags":["License"]}},"/pump_report":{"post":{"description":"生成水泵测试报告","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_pump_report"},"operationId":"post_pump_report","parameters":[{"description":"生成水泵测试报告","in":"body","name":"data","required":true,"schema":{"properties":{"reportid":{"description":"报告号","example":"211fc18573","required":true,"type":"string"},"type":{"description":"报告类似","enum":["CN","EN","JP"],"required":true,"type":"string"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"生成水泵测试报告","tags":["Pump"]}},"/release_exproto":{"post":{"description":"发布拓展编程API","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_release_exproto"},"operationId":"post_release_exproto","parameters":[{"description":"API信息","in":"body","name":"data","required":true,"schema":{"properties":{"code":{"description":"base64编码的源码","example":"IyBjb2Rpbmc9dXRmOAppbXBvcnQgb3MKCmRlZiBwb3N0KGFyZ3Msc2Vzc2lvbixlbnYpOgogICAgI2JvZHkgPSBqc29uLmxvYWRzKGJhc2U2NC5iNjRkZWNvZGUoYXJncykuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KGJvZHkpCiAgICAjc3RyYm9keSA9ICd7fScuZm9ybWF0KGJvZHkpCiAgICAjZW5ib2R5ID0gIGJhc2U2NC5iNjRlbmNvZGUoc3RyYm9keS5lbmNvZGUoJ3V0Zi04JykpCiAgICAjcHJpbnQoZW5ib2R5KQogICAgI3N0YXRlID0ganNvbi5sb2FkcyhiYXNlNjQuYjY0ZGVjb2RlKGVudikuZGVjb2RlKCJ1dGYtOCIpKQogICAgI3ByaW50KHN0YXRlKQogICAgIyByZXN0dXJsID0gc3RhdGVbJ3JvbGVzJ11bMF1bJ3RhZyddWydhcHBjb25maWcnXVsncmVzdCddCiAgICAjIHByaW50KHJlc3R1cmwpCiAgICAjIHMuaGVhZGVycy51cGRhdGUoeyJzZXNzaW9uVG9rZW4iOiBzZXNzaW9uLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSkKICAgICMgcnQgPSBzLmdldCgne30vY2xhc3Nlcy9EZXZpY2U/b3JkZXI9Y3JlYXRlZEF0JmxpbWl0PTEwJnNraXA9MCcuZm9ybWF0KHJlc3R1cmwpLAogICAgIyAgICAgICAgICAgICAgcGFyYW1zPXsnb3JkZXInOiAnY3JlYXRlZEF0JywgfSkKICAgICMgZm9yIHJvdyBpbiAocnQuanNvbigpWydyZXN1bHRzJ10pOgogICAgIyAgICAgcHJpbnQocm93KQogICAgcHJpbnQoYXJncykKICAgIHByaW50KHNlc3Npb24pCiAgICBwcmludChlbnYpCiAgICByZXR1cm4gYXJncwoKZGVmIG1haW4oKToKICAgICN7Im5hbWUiOiJzaHV3YSJ9CiAgICBhcmd2cyA9ICdleUp1WVcxbElqb2ljMmgxZDJFaWZRPT0nCiAgICByZXR1cm4gIHBvc3QoYXJndnMsICdzZXNzaW9uJywnZW52JykKCmRlZiBleGl0KCk6CiAgICBvcy5fZXhpdCgwKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQ==","type":"string"},"mod":{"description":"模块名称","example":"hello","type":"string"},"swagger":{"description":"swagger文件","example":{"definitions":{},"paths":{"/python_hello":{"post":{"description":"Python测试API","parameters":[{"description":"生成报告","in":"body","name":"data","required":true,"schema":{"properties":{"name":{"description":"姓名","example":"shuwa","required":true,"type":"string"}},"type":"object"}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"Python测试API","tags":["EXPROTO"]}}},"tags":[{"description":"扩展编程","name":"EXPROTO"}]},"type":"object"},"type":{"description":"编程语言类型","enum":["python","java","ruby"],"type":"string"}},"type":"object"}}],"produces":["application/json"],"responses":{"200":{"description":"Returns instance data"},"404":{"description":"object not found","schema":{"$ref":"#/definitions/Error"}}},"summary":"热加载API","tags":["EXPROTO"]}},"/classes/Project":{"get":{"description":"参考parse文档 https://docs.parseplatform.org/rest/guide/#queries,<br/><br/>where支持：[$lt, $lte, $gt, $gte, $ne, $in, $nin, $exists, $select, $dontSelect, $all, $regex, $text]","externalDocs":{"url":"http://www.iotn2n.com/doc/#get_classes_project"},"operationId":"get_classes_project","parameters":[{"default":"createdAt","description":"排序方式, 负为降序, eg: score,-name","in":"query","name":"order","required":false,"type":"string"},{"default":10,"description":"limit, 显示多少条记录，显示100条记录 eg:100","in":"query","name":"limit","required":false,"type":"integer"},{"default":0,"description":"skip","in":"query","name":"skip","required":false,"type":"integer"},{"description":"需要显示的字段,加count(*)则结果里面会显示总记录数, eg: username,email","in":"query","name":"keys","required":false,"type":"string"},{"description":"include","in":"query","name":"include","required":false,"type":"string"},{"description":"过滤条件，eg: {\"objectId\":{\"$in\":[\"BGS3BFgcZN\"]}}","in":"query","name":"where","required":false,"type":"string"}],"responses":{"200":{"description":"返回项目记录数","schema":{"properties":{"results":{"items":{"$ref":"#/definitions/Project"},"type":"array"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"查询项目","tags":["Project"]},"post":{"description":"新增一条项目记录","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_classes_project"},"operationId":"post_classes_project","parameters":[{"description":"新增的字段","in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/Project"}}],"responses":{"201":{"description":"Returns success","schema":{"properties":{"createdAt":{"description":"创建时间","format":"date-time","type":"string"},"objectId":{"description":"objectId","type":"string"}},"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"新增项目","tags":["Project"]}},"/reportTemp":{"post":{"consumes":["multipart/form-data"],"description":"新增报告模版","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_reporttemp"},"operationId":"post_reporttemp","parameters":[{"description":"取证模版名称","example":"离心泵取证模版","in":"formData","name":"name","type":"string"},{"description":"报告模版类型","in":"formData","name":"devType","type":"string"},{"description":"报告其他信息","example":{"client":"离心泵","identifier":"a28b138a-0f31-fe7d-cadc-0be47faf8a8d"},"in":"formData","name":"config","type":"object"},{"description":"数据文件","in":"formData","name":"file","type":"file"}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增报告模版","tags":["Evidence"]},"put":{"description":"新增报告子模版","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_reporttemp"},"operationId":"put_reporttemp","parameters":[{"description":"取证模版","in":"body","name":"data","required":true,"schema":{"properties":{"config":{"description":"模版描述信息","example":{"identifier":"a28b138a-0f31-fe7d-cadc-0be47faf8a8d","name":"image0"},"type":"object"},"desc":{"description":"模版编号","example":"0","type":"string"},"devType":{"description":"报告模版类型","example":"shuwa_pump_report","type":"string"},"name":{"description":"取证模版名称","example":"离心泵取证模版","type":"string"},"nodeType":{"description":"网络类型","example":1,"type":"number"}}}}],"responses":{"200":{"description":"Returns operation status"},"400":{"description":"Bad Request"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"新增报告子模版","tags":["Evidence"]}},"/device":{"post":{"description":"查询设备时序数据","externalDocs":{"url":"http://www.iotn2n.com/doc/#post_device"},"operationId":"post_device","parameters":[{"description":"查询条件","in":"body","name":"filter","required":true,"schema":{"properties":{"include":{"description":"包含对象","example":"product","type":"string"},"order":{"description":"排序","example":"-createdAt","type":"string"},"where":{"description":"查询条件","example":"{\"objectId\":{\"$in\":[\"689cc9c4a2\",\"cf3795a76a\"]}}","type":"object"}},"type":"object"}}],"responses":{"200":{"description":"Returns success"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error"}},"summary":"查询设备时序数据","tags":["Device"]}},"/level/Device":{"put":{"description":"设置设备表的级别","externalDocs":{"url":"http://www.iotn2n.com/doc/#put_level_device"},"operationId":"put_level_device","parameters":[{"description":"表操作权限.","in":"body","name":"Permissions","required":true,"schema":{"$ref":"#/definitions/ClassLevel"}}],"responses":{"200":{"description":"设置设备表成功"},"400":{"description":"服务器错误","schema":{"$ref":"#/definitions/Error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/Error"}},"403":{"description":"Forbidden"},"500":{"description":"Server Internal error","schema":{"$ref":"#/definitions/Error"}}},"summary":"设置设备表级别","tags":["Device"]}}},"produces":["application/json"],"schemes":["http","https"],"security":[{"APIKeyHeader":[]},{"BasicAuth":[]},{"APIKeyQueryParam":[]},{"CookieAuth":[]}],"securityDefinitions":{"APIKeyHeader":{"in":"header","name":"sessionToken","type":"apiKey"},"APIKeyQueryParam":{"in":"query","name":"sessionToken","type":"apiKey"},"BasicAuth":{"type":"basic"},"CookieAuth":{"in":"header","name":"sessionToken","type":"apiKey"}},"swagger":"2.0","tags":[{"description":"奇迹物联","name":"amaziot"},{"description":"任务","name":"Crond"},{"description":"工业控制","name":"OPC"},{"description":"拓展编程","name":"EXPROTO"},{"description":"扩展编程","name":"EXPROTO"},{"description":"电力抄表","name":"METER"},{"description":"电表","name":"METER"},{"description":"云组态","name":"TOPO"},{"description":"dgiot_modbus_tcp","name":"dgiot_modbus_tcp"},{"description":"数据库","name":"DBA"},{"description":"明诚","name":"Mingcheng"},{"description":"角色","name":"_Role"},{"description":"数据管理","name":"Data"},{"description":"角色管理","name":"_Role"},{"description":"产品管理","name":"Product"},{"description":"规则引擎","name":"Rule"},{"description":"系统管理","name":"System"},{"description":"新马赫","name":"Sinmahe"},{"description":"扩展编程","name":"EXPROTO"},{"description":"数据库","name":"DBA"},{"description":"任务","name":"Crond"},{"description":"设备","name":"Device"},{"description":"产品","name":"Product"},{"description":"菜单","name":"Menu"},{"description":"用户管理","name":"_User"},{"description":"角色管理","name":"_Role"},{"description":"Test管理","name":"Test"},{"description":"标签管理","name":"Tag"},{"description":"证据管理","name":"Evidence"},{"description":"指令管理","name":"Instruct"},{"description":"时序管理","name":"Timescale"},{"description":"字典管理","name":"Dict"},{"description":"通知管理","name":"Notification"},{"description":"应用管理","name":"App"},{"description":"会话管理","name":"_Session"},{"description":"部署管理","name":"_Installation"},{"description":"权限管理","name":"Permission"},{"description":"项目管理","name":"Project"},{"description":"通道管理","name":"Channel"},{"description":"视图管理","name":"View"},{"description":"授权管理","name":"License"},{"description":"数据库","name":"DBA"},{"description":"视频","name":"FFMPEG"},{"description":"速客智能控制","name":"SuKe"},{"description":"授权","name":"License"},{"description":"解码器","name":"Decoder"},{"description":"证据","name":"Evidence"},{"description":"视频","name":"FFMPEG"},{"description":"组","name":"Group"},{"description":"水泵","name":"Pump"},{"description":"水泵","name":"Pump"}]}